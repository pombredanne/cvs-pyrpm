2005-12-06  Florian La Roche  <laroche@redhat.com>

	* configure.in 1.30, pyrpm/__init__.py 1.37: - new release

	* scripts/oldpyrpm.py 1.145: - getPkgsNewest():
	  - add possibility to remove .src.rpm packages
	  - also check for incompatibel packages and remove them
	- adapt calling functions to the above changes

	* pyrpm/yum.py 1.84: - add timer info for selectNewestRpms()

	* pyrpm/resolver.py 1.95: - add timing info for fileconflict checking

	* pyrpm/control.py 1.76:
	- hack to check deps only once, needs re-org to get
	  this more cleanly done

	* pyrpm/yum.py 1.83:
	- hacky hack to improve performance until new code is in place

	* pyrpm/yum.py 1.82: - additional fix to print conflicts

	* pyrpm/yum.py 1.81: - fix printing found conflicts

2005-12-05  Florian La Roche  <laroche@redhat.com>

	* pyrpm/io.py 1.115:
	- fix traceback if no "provides" are present at all

2005-12-04  Florian La Roche  <laroche@redhat.com>

	* doc/pyrpm-links.txt 1.4: - add the caos rpm system

2005-12-03  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.144: - output cleanup

	* Makefile.am 1.18: - remove upload again for people.redhat.com

2005-12-02  Florian La Roche  <laroche@redhat.com>

	* Makefile.am 1.17, doc/pyrpm.txt 1.4: - reorg the docu place

2005-12-02  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/config.py 1.47, pyrpm/control.py 1.75, pyrpm/functions.py 1.148, pyrpm/io.py 1.114, pyrpm/package.py 1.102, pyrpm/resolver.py 1.94, pyrpm/yum.py 1.80, tests/test 1.19, tests/test8 1.3:
	- Included 2 new undocumented options (for now) to pyrpmyum:
	  o --resolvesrpm     Resolves all buildrequires if you install srpms and
	                      installes the required packages
	  o --srpmdir         Directory where the source rpm files will be written to.
	                      Default is /usr/src/redhat/SOURCES
	- Removed all cruft where we missused the buildroot as target directory for
	  srpms.
	- Implemented a bsearch() function that works identical to the glibc one. Needed
	  for converting oldfilenames to basenames/dirnames/dirindexes exactly like rpm.
	- Need to generate basenames/dirnames/dirindexes for old rpm 3.x headers if we
	  want to store them in the rpmdb. Make sure we generate the lists exactly
	  like rpm (as there is a bug in rpm we have to "simulate").
	- Rpm 3.x headers didn't have a self provide. Add it to the header if it's
	  missing for those rpms, just like rpm does.
	- Don't create some unecessary lists for repo and rpmdb resolvers anymore.
	- Use the config.srpmdir for installing srpm files properly.
	- Fixed some text messages
	- Don't remove the requires from srpms if the --resolvesrpm has been used.
	- Don't want confirmation for --test runs (kinda silly to ask that ;)
	- Some changes to my testscripts to verify the latest changes.

2005-11-29  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.79:
	- Fixed several sys.exit() calls at the wrong places.
	- RpmYum::addRepo() now returns 1 on success, as expected.

	* pyrpm/yum.py 1.78, pyrpm/functions.py 1.147:
	- Fixed run_main() to not do the sys.exit() itself but leave it up to the
	  calling script to handle the failure
	- Reworked the dependency loop once more, this time hopefully fixed for good.
	  Ran some tests with it that all ended correctly.
	- Fixed a little code documentation.

2005-11-29  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpmkickstart 1.33: [tw]
	- enabled upgrade via kickstart
	- using new chroot feature and status of runScript
	- new functions: loadComps and compsLangsupport to get packages from additional
	  repos, if enabled with option --repo-comps
	- added checks for format programs and bash in stage2
	- fixed title of boot entries in grub.conf to use the source release

	* pyrpm/kickstart.py 1.12: [tw] fixed usage of wrong tag update

2005-11-28  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.146:
	- Hopefully final fix the the chroot stuff :)

	* pyrpm/functions.py 1.145:
	- Fixed the new chroot option. Need to make sure that if we switch into the
	  chroot the tmpfilename path is stripped from the args.

	* pyrpm/functions.py 1.144:
	- Added chroot parameter to runscript to make Thomas happy :)

2005-11-28  Florian La Roche  <laroche@redhat.com>

	* doc/pyrpm-devel.txt 1.3: - add some comments about python-elementtree

2005-11-28  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.143, pyrpm/package.py 1.101:
	- Fixed runScript() to return status and rusage (so we can actually check if
	  a script failed or no. ;)

	* pyrpm/functions.py 1.142, pyrpm/io.py 1.113, pyrpm/yum.py 1.77, pyrpm/yumconfig.py 1.21, scripts/pyrpmrandomizer 1.14, doc/Makefile.am 1.11:
	- Added --installroot= option to yum for compatibility
	- Removed some old unused commented out code.
	- Added support for mirrorlist and baseurls from yum.conf
	- Added some more useful printInfo and timing output to see what/where the code
	  is at the moment.
	- Fixed a bug in RpmYum::__generateObsoletesList() where too many packages were
	  added to the list. Speeds things up for 1st and 2nd phase of obsolete handling

2005-11-27  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.143: - add mirroring of the conary repository

	* scripts/oldpyrpm.py 1.142: - remove one repo with hg scripts
	- fix old -> oldpkg typo
	- print repos being mirrored/setup for "verbose > 2"

	* scripts/oldpyrpm.py 1.141: - "import time" at the beginning
	- read time of last changelog entry from specfile if no previous
	  rpm package is available

2005-11-26  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.140:
	- small performance changes to parsePackages()

	* doc/pyrpm-links.txt 1.3: - add pointer to rpminfo from Thomas Woerner

2005-11-24  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.139:
	- add setMachineDistance() that computes machineDistance for all
	  possible 'arch' settings in rpms and stores that in arch_hash
	- optimize FilenamesList.addPkg()
	- "oldfilenames" for repodata is faster, but takes slightly more space
	- enable FC-development to be checked into git on my laptop

	* doc/pyrpm-tools.txt 1.4: - typo in docu

	* doc/Makefile.am 1.10, doc/pyrpm-tools.txt 1.3:
	- correct example sections

2005-11-24  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.76:
	- Fix bug where when we import the filelist the triggering file dep might then
	  already be resolved by the import but we would still try to resolve it which
	  could horribly fail.

	* pyrpm/base.py 1.51, pyrpm/io.py 1.112, pyrpm/package.py 1.100, pyrpm/yum.py 1.75:
	- Support the use of oldfilenames if available (used for repos to speed things
	  up there)
	- Fixed multiple recreations of reporesolvers for filereqs

2005-11-24  Florian La Roche  <laroche@redhat.com>

	* Makefile.am 1.16: - add an upload target

	* doc/pyrpm-devel.txt 1.2, doc/pyrpm.txt 1.3: - change project links

	* doc/pyrpm-tools.txt 1.2, doc/pyrpm.txt 1.2:
	- add links to the other docu files
	- fix two places where asciidoc has made the text a new headline
	- point to new docu correctly

	* Makefile.am 1.15:
	- do not remove COPYING and INSTALL, they are also checked into cvs

	* pyrpm.spec.in 1.13: - adjust for new docu form

	* doc/pyrpm-links.txt 1.2: - different headline now

	* scripts/oldpyrpm.py 1.138:
	- add another newline into changelog entries
	- RpmResolver: ignore gpg-pubkey entries
	- selectNewestRpm(): set good verbose level for output
	- getPkgsNewest(): move this into a normal function from RpmTree()
	- RpmRepo:readRepos(): use "readsrc" better
	- extractSrpm: finetune extracted rpm package list
	- extractSrpm: fix setting the changelog for the update case
	- adjust list of available mirror data
	- some more additions for "--updaterpms" to read in the data
	- "--wait" is now a general option

2005-11-23  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.74, scripts/pyrpmrandomizer 1.13, pyrpm/package.py 1.99, pyrpm/io.py 1.111, doc/Makefile.am 1.9:
	- Updated doc/Makefile.am to actually generate the html docs. Still need to
	  install them properly, will nag Harald how to do this right with autoFOO(tm)
	- Fixed the version checks for the new rpm-3 and rpm-4.0 header generation.
	- Fixed bug in RpmPackage::read() where the self.io could be None if the
	  package came from a repo or database.
	- Reworked the depesolver in yum a little to really return false in case some
	  deps couldn't be resolved properly.
	- Fixed small bug in pyrpmrandomizer where the FakeRepo would still get added
	  even if it had 0 packages in it (which caused the package selector later to
	  traceback).

2005-11-21  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.50, pyrpm/io.py 1.110, pyrpm/package.py 1.98, scripts/pyrpmdbverify 1.27, README 1.9, doc/Makefile.am 1.8, doc/README 1.30, doc/README.rpmdb 1.5, doc/README.tools 1.2, doc/pyrpm-devel.txt 1.1, doc/pyrpm-links.txt 1.1, doc/pyrpm-tools.txt 1.1, doc/pyrpm.txt 1.1:
	- Restructuring of documentation once more.
	- Some more additions to the docu.
	- Add legacy rpmdb support to pyrpm. Rpm 4.0.3, 3.0.3 and 3.0 headers should now
	  be written correctly to rpmdb (VMware and IBM-Java packages).

2005-11-19  Florian La Roche  <laroche@redhat.com>

	* pyrpm/functions.py 1.141:
	- fix bug where still "strict" was given as param

2005-11-18  Florian La Roche  <laroche@redhat.com>

	* pyrpm/functions.py 1.140: - we stay compatibel to /bin/rpm

2005-11-17  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.137: - remove archDuplicate(), never used
	- remove archCompat() as machineDistance() is giving the
	  same information
	- move setting rpm.mdistance into upper functions to
	  selectNewestRpms(), this is a bad hack

2005-11-17  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/orderer.py 1.37: [tw]
	[tw]
	- added RpmRelations::orderIterationFunc and RpmRelations::orderLoopFunc to get
	  calls into the ordering process - e.g. for rpmgraph

	* scripts/pyrpmkickstart 1.32: [tw]
	- added repo support:
	  repo <name> --url=nfs://<server><path>
	  repo <name> --url=file://<path>
	  where <path> is a full qualified path name with a leading "/"
	- initialize disk if there is no disklabel
	- first evaluate if there are partitions to format, then copy stage2 image
	- moved exclude in yum.conf to the main section
	- add repos to yum.conf

	* pyrpm/kickstart.py 1.11: [tw]
	- added repo support:

	  repo <name> --url=nfs://<server><path>
	  repo <name> --url=file://<path>

	  where <path> is a full qualified path name with a leading "/"

2005-11-17  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.136:
	- only output stats for repos if we actually read them

	* scripts/oldpyrpm.py 1.135:
	- selectNewestRpm(): first sort by arch distance, then by version numbers,
	  so we never go from e.g. a i686 rpm to a i386, even if newer i386 rpms
	  show up
	- RpmTree(), slightly reduce code size
	- RpmRepo: delDebuginfo(): add glibc-debuginfo-common as special case, bad
	- RpmRepo: add delSrc() to remove src.rpm packages
	- readRepos: add option to read/ignore src.rpms
	- readPackages:
	  - option to keep the raw data as well as the data for the parsed headers
	  - option to specify which header tags to read
	- change default to ignore fileconflicts, add option --fileconflicts to
	  enable them again
	- add option --updaterpms to start looking at update algorithm
	- add timing stats and number of rpm package stats to the verify part
	- do not even include src.rpms to check dependencies for trees

2005-11-16  Philip Knirsch  <pknirsch@redhat.com>

	* tests/rpmdbtestName 1.1, scripts/pyrpminstall 1.25, scripts/pyrpmrandomizer 1.12, scripts/pyrpmrebuilddb 1.12, scripts/pyrpmyum 1.49, scripts/pyrpmcheck 1.15, scripts/pyrpmcheckrepo 1.12, scripts/pyrpmcreatefilereq 1.5, scripts/pyrpmdbconvert 1.4, scripts/pyrpmdbverify 1.26, doc/README 1.29, doc/README.rpmdb 1.4, doc/README.tools 1.1, INSTALL 1.2, README 1.8:
	- Tons of documentation updates and restructuring. Needs some more work to have
	  them crosslinked with asciidoc, but that's next.
	- Unified the way our scripts work and their return values. Correct exit(1) is
	  now done in all error cases so bash scripts can check if an error occured.

	* pyrpm/package.py 1.97:
	- Fix for issrc (which gets thrown over board after a close() call).

2005-11-13  Florian La Roche  <laroche@redhat.com>

	* doc/README 1.28: - add example on how to check FC-4 + Fedora Extras 4

2005-11-12  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.134:
	- depString() add surrounding brackets to output
	- replace class DepList() with function searchDependency()

	* scripts/oldpyrpm.py 1.133: - clean up machineDistance()
	- rename search() -> searchDependency()
	- rename Relations() -> RpmRelations()
	- new function selectNewestRpm()
	- getPkgsNewest(): do not select noarch and arch-dependent
	  packages together, one of both needs to be removed
	- readRepos(): do not delete rpms not suitable for the arch,
	  that will be done later on

2005-11-11  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.139:
	- Use proper output interface for error messages in parseYumOptions()
	- Fix wrong behaviour where ignorearch wouldn't let you install arch
	  incompatible packages without --justdb or --test

2005-11-11  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.132:
	- fixed a bug in stringCompare() where we tried to access
	  beyond the end
	- removed dead code
	- added comments on implementation

	* scripts/oldpyrpm.py 1.131:
	- give less data on reporting conflicts/obsoletes
	- note that noarch/arch do not get selected properly and need fixing

	* scripts/oldpyrpm.py 1.130:
	- if a certain arch is given, don't use the kernel archs for checking

	* doc/README 1.27: - add new options

	* scripts/oldpyrpm.py 1.129:
	- preserve some memory if no fileconflict checks are done
	- allow disabling the fileconflict checks: --nofileconflicts
	- add an option to run the orderer: --runorderer
	- better error reports for dependency problems

	* scripts/oldpyrpm.py 1.128:
	- look at the kernel arch settings to determine a list of
	  archs to check with

	* scripts/oldpyrpm.py 1.127: - DepList(): remove unused functions
	- RpmResolver(): remve the search cache, this was a temp item
	  to check possible performance improvements
	- RpmResolver(): allow deleting packages
	- remove obsoleted packages from tests
	- checkDeps(): go in sorted order through checks
	- only once create the list of rpms to check for installs

	* scripts/oldpyrpm.py 1.126:
	- filter out packages not suitable for our arch
	- correctly work also on multilib systems
	- print rpms deleted/ignored during for the checks

2005-11-10  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.138, pyrpm/io.py 1.109, pyrpm/package.py 1.96, pyrpm/yum.py 1.73:
	- Dropped the whole verify code from RpmStreamIO
	- Properly filter the packages from dirs and repos depending on arch

2005-11-10  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.125:
	- use lists instead of tuples for arch_compat to make machineDistance to work
	- add support to select also based on arch via machineDistance
	- remove "dupes" to e.g. remove i386 rpms if also i686 rpms exist

	* pyrpm/resolver.py 1.93:
	- no need to depend on the arch anymore for searching packages

	* scripts/pyrpmcreatefilereq 1.4, scripts/pyrpmcreaterepo 1.9, scripts/pyrpmkickstart 1.31, scripts/pyrpmspecinfo 1.8, pyrpm/yumconfig.py 1.20, pyrpm/yum.py 1.72, pyrpm/kickstart.py 1.10, pyrpm/orderer.py 1.36, pyrpm/config.py 1.46, pyrpm/functions.py 1.137, pyrpm/io.py 1.108:
	- remove trailing whitespace

2005-11-09  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpmkickstart 1.30: [tw]
	- fixed Partition unit calculation for start and end
	- added __clear_partitions to Disk to create partition structures
	- moved PedDevice creation over to reload function
	- create freespace, freespace_primary, freespace_logical, primary, extended
	  and logical lists in Disk::reload(), return these lists in
	  Disk::__getitem__()
	- fixed missing disklabel bug in Disk::print_info() and
	  Disk::print_partitions() for empty disks
	- umount stage2_img_dir in exit if it is set
	- fixed malformed patch of default interpreter for scripts
	- use Disk::print_info() and Disk::print_partitions() in verbose mode instead
	  of own code
	- better autopart handling
	- renamed old partitions list to partition everywhere to make it consistent
	- new parition code to honour --asprimary partition option
	- exact calculation of patition sizes with cylinders
	- use comps information for addition of all packages and groups
	- add "base-x" instead of xserver and sub-package if xconfig is set
	- use none as device for all distibutions for /dev/pts, /dev/shm and /proc

	* pyrpm/resolver.py 1.92: [tw]
	- dropped arch comparing code from ProvidesList::search and
	  ConflictsList::search
	  This code has to get integrated into yum
	- return all macthing packages even if there is an additional self provide

	* pyrpm/kickstart.py 1.9: [tw]
	- reverting to value None for value-less options

	* pyrpm/orderer.py 1.35: [tw]
	- renamed Relation to RpmRelation
	- integrated isHardRelation as isHard and isVirtualRelation as isVirtual as
	  static methods into RpmRelation
	- renamed _Relations to RpmRelations
	- moved all functions which are modifying RpmRelations structures into
	  RpmRelations class
	- the RpmOrderer is using RpmRelations to get the ordered package list

	* pyrpm/hashlist.py 1.21: [tw]
	- fixed setdefault

	* pyrpm/hashlist.py 1.20: [tw]
	- added setdefault function to be compatible with hash

2005-11-09  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.71:
	- Fixed bug when no packages were found for file based updates.

2005-11-09  Florian La Roche  <laroche@redhat.com>

	* doc/README 1.26: - add info on how to send changes to the docu
	- write description about fileconflicts

	* scripts/oldpyrpm.py 1.124:
	- for fileconflict checks also look at fileusername and filegroupname
	- checkDirs() remove code that is now also part of the fileconflicts
	  check

2005-11-09  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.136: - Dropped wrong raise in runScript()
	- Reworked the printError() usage in runScript()

2005-11-09  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.123:
	- check requires not via the loop over packages, but just take
	  the data from the requires data in the resolver

	* scripts/oldpyrpm.py 1.122: - mini optims for fileconflict check
	- fileconflicts: check all files, not just regular files

2005-11-08  Karsten Hopp  <karsten@redhat.com>

	* tests/daily-weekly-checks 1.1:
	add script to run some checks p.e. via crontab. Checks for RHEL3/4 -> U1 ->...->Ux are currently missing

2005-11-07  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.121: - small config tweaks

	* configure.in 1.29, pyrpm/__init__.py 1.36: - release 0.35

	* ChangeLog 1.15: - update ChangeLog

2005-11-07  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmrandomizer 1.11, pyrpm/control.py 1.74, pyrpm/yum.py 1.70:
	- Fixed some output problems with --quite

2005-11-07  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpmkickstart 1.29: [tw]
	- new option disk-image to treat devices as disk images
	- use long values for sizes instead of float,
	- never abort by parted commit errors for now
	- increased minimal size of "/"-partition for autopartitioning to 650MB

	* pyrpm/kickstart.py 1.8: [tw]
	- more partition checks
	- convert sizes for partitions to long values

2005-11-04  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmrebuilddb 1.11, pyrpm/io.py 1.107:
	- Fixed triggername handling for rpmdb write
	- Threw out all old pyrpmrebuilddb code and based it on the working
	  pyrpmconvert which correctly uses our factories and reduces code redundancy.

2005-11-03  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.69, pyrpm/functions.py 1.135:
	- Added the Epoch to findPkgByNames() searches again.
	- Optimized findPkgByNames()
	- Added nifty feature to be able to install and/or update using files now, too.

	* doc/README 1.25: - Added a timezone ;)

2005-11-03  Thomas Woerner  <twoerner@redhat.com>

	* doc/README 1.24: [tw]
	- added pyrpmkickstart comamnd example (very simple :-))

	* scripts/pyrpmkickstart 1.28: [tw]
	- added autopart code
	- renamed part variable in partitionmap uses to onpart to be consistent

	* doc/README 1.23: [tw]
	- pyrpmkickstart is able to use autopart, now
	- added loop device options

	* pyrpm/kickstart.py 1.7: [tw]
	- made getopt and noquote_split static methods of KickstartConfig
	- use 1 instead of None for simple keys in hashes

	* doc/README 1.22: [tw] first kickstart documentation

	* scripts/pyrpmkickstart 1.27: [tw]
	- added partitioning code:
	  - zerombr and clearpart are handled, now
	  - partitions are created according to partition entries in kickstart file
	  - code might have problems with preformatted disks with free spaces to fill
	    up with new partitions

	  USE WITH CARE!

2005-10-29  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.120:
	- first copy to get the orderer included into oldpyrpm.py
	- removal of duplicate code
	- move some functions into "class Relations"

2005-10-28  Florian La Roche  <laroche@redhat.com>

	* scripts/Makefile.am 1.13: - add pyrpmcreatefilereq

2005-10-28  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/orderer.py 1.34: [tw] forgot virtual

	* pyrpm/orderer.py 1.33: [tw]
	- added high level documentation

2005-10-28  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.134:
	- Temorarily disabled the epoch prefixed stuff as excludes like "[!g]*.i686"
	  will otherwise fail miserably as they will match 0:glibc-XYZ.i686 :)
	  We need to enforce the nevra variant here on the command line it seems...

2005-10-27  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.68, scripts/pyrpmrandomizer 1.10, pyrpm/io.py 1.106:
	- Added more filereq.xml support:
	  o Repos now store an internal list of the filereqs
	  o A new semi private method to verify if a repo could provide a certain file
	- Handle empty args for updates really correctly now in yum:
	  o First handle all obsoletes.
	  o Instead of using the time consuming findPkgsByNames() simply search for the
	    identical name.
	- Make the repository lists a little easier to use internally in yum
	- Handling of filerequires and possible filelist.xml loading is now done
	  differently and repo based.
	- Fixed a bug in the __findUpdatePkg() method where possibly wrong packages
	  could have been found and selected.
	- Fixed the autoerase for conflicts. Needs to be done conflict after conflict
	  as well just like with dependancies.
	- Fixed and extended the selection of the packages to be autoereased during the
	  conflict autoerase phase.

2005-10-27  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpmkickstart 1.26: [tw]
	- new Disk and Partitin classes with full image and loop device support
	- mount has now args (e.g. for "--bind")
	- fixed umount for bind mounts (dirty)
	- using try for all os.mkdir, open etc. calls
	- new generic functions getName and getId, which are used by diskName and
	  partitionId
	- new functions: ext2Label, swapLabel and getLabel
	- replaced rm_rf with shutil.rmtree
	- temporary class pr_print to get a better debug output
	- new option label-prefix to enable user supplied prefix
	- new option standalone (not yet fully integrated)
	- load kickstart file early
	- get labels for preformatted partitions and honour them
	- use tools from stage2.img for formatting:
	  1) create stage2 as ramfs
	  2) copy contents of temporary mounted stage2.img
	  3) create additional links and dirs
	  4) format
	  5) umount stage2
	- /etc/fstab and RHEL-3:
	  - fixed missing label
	  - fixed devices for /dev/pts, /dev/shm and proc
	  - dropped /sys
	- using /etc/modules.conf for RHEL-3
	- check for kudzu and authconfig before trying to call them
	- disable selinux for RHEL-3
	- added self-made iptables config code for RHEL-3
	- X and RHEL-3:
	  - using XF86Config instead of xorg.conf
	  - fixed mouse device: /dev/mouse instead of /dev/input/mice
	  - dropped DRI section
	- writing devices.map file for grub

2005-10-25  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.133: - Make tmpdir configurable in runScript()

	* scripts/pyrpmrandomizer 1.9, pyrpm/yum.py 1.67:
	- Move repos_read to proper position so it always gets set, even if there is
	  no repo available.
	- RpmYum::__handleUpdatePkglist() interface changed, now has an added is_filereq
	  flag at the end needed for proper package skipping.
	- Fixed RpmYum::__handleUpdatePkglist() to correctly handle multilib package
	  updates.
	- Extended pyrpmrandomizer to allow dirs and packages to be added instead of
	  yum repo based only.

2005-10-24  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.119: - small docu update
	- disable converting git to mercurial repos

2005-10-24  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.73:
	- Disable verify for child/buildroot rereading of packages as they can faily
	  very badly.

	* pyrpm/functions.py 1.132, pyrpm/io.py 1.105:
	- Fixed wrong verify flags for repo packages and rpmdb packages.

2005-10-24  Harald Hoyer  <harald@redhat.com>

	* pyrpm/config.py 1.45:  readConfig() added

2005-10-19  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/yum.py 1.66, pyrpm/yumconfig.py 1.19, pyrpm/io.py 1.104, pyrpm/openpgp.py 1.8:
	* pyrpm/io.py:
	- RpmRepo.__init__(), RpmRepo.read(): Add key_urls, read GPG keys to
	  self.keyring
	- RpmRepo.__readDir(): Fix undefined variable access
	- RpmRepo.__parsePackage(): Mark the packages to be verified when rereading,
	  point to self for the keyring
	* pyrpm/openpgp.py (_SignaturePacket.__verifyDigestWithKey): Actually fail
	  when the signature doesn't match.  Oops.
	* pyrpm/yum.py (RpmYum.addRepo, RpmYum.__addSingleRepo): Collect GPG key
	  URLs and pass them to RpmRepo.

2005-10-18  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.65, pyrpm/io.py 1.103:
	- Removed a debug output from RpmYum class
	- Implemented the netsharedpath parser and use it by default now

2005-10-18  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/functions.py 1.131, pyrpm/io.py 1.102:
	* pyrpm/functions.py (readDir): Document.
	* pyrpm/io.py (RpmDb.__getInstallColor): Fix color comparison. Document.

2005-10-17  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.101, pyrpm/yum.py 1.64, scripts/pyrpmcheckrepo 1.11, scripts/pyrpmcreatefilereq 1.3, scripts/pyrpmrandomizer 1.8, scripts/pyrpmyum 1.48, pyrpm/base.py 1.49, pyrpm/functions.py 1.130:
	- Fixed RPMFILE_STATE flags. They need to be binary chars, not integers.
	- Treat a --justdb the same as a --test run in respect to arch so you can run
	  --justdb for other archs on one machine.
	- Fixed missing rpmtags when reading /var/lib/rpm/Packages in RpmDB
	- First implementation of proper and correct filestates for RpmDB
	- Optimized the removeIdx() call in RpmDB
	- Use correct config variable for architecture check for install color
	- For noarch packages "filecolors" isn't set, so make sure to use the default 0
	  filecolor in those cases.
	- Added the filereq.xml reading to RpmRepo during read() if it is found
	- Fixed the importFilelist() function to actually extend and normalize the
	  filelist of a package after an import.
	- Check if repositories have already been read in RpmYum and don't read them
	  more than once
	- Correcly split the functionally between preparation of the transaction and
	  processing of args in RpmYum
	- Fixed the scripts to use the new behaviour of RpmYum

2005-10-16  Florian La Roche  <laroche@redhat.com>

	* scripts/pyrpmkickstart 1.25: - Thomas said this should get included

	* pyrpm/kickstart.py 1.6: - get rid of importing string

2005-10-14  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmcreatefilereq 1.2:
	- Make output filelist compatible so we can use the same parsing routine
	  in RpmRepo class to read it

	* doc/README 1.21, doc/README.rpmdb 1.3:
	- Extended the documentation concerning rpm formats.

2005-10-13  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.48, pyrpm/config.py 1.44, pyrpm/functions.py 1.129, pyrpm/io.py 1.100:
	- Added 2 more command line options to exclude docs and config files
	- Added tscolor to rpmconfig, needed for later rpmdb handling
	- Implemented first version of correct filestates for rpmdb. Still missing some
	  /var/lib/rpm/macros dependant stats

2005-10-12  Florian La Roche  <laroche@redhat.com>

	* doc/README 1.20: - add link to plague buildsystem

2005-10-12  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmcheck 1.14, scripts/pyrpmcreatefilereq 1.1, scripts/pyrpmdbverify 1.25, pyrpm/functions.py 1.128, pyrpm/io.py 1.99:
	- Removed several readDir() implementations and put it in functions.py
	- Took Florian's oldpyrpm code to calculate the installcolor of a package for
	  rpmdb
	- Added first cut of pyrpmcreatefilereq for multi repo file require based
	  file list extension

2005-10-12  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.118:
	- add getInstallColor(arch) for rpmdb compatibility with /bin/rpm

2005-10-11  Florian La Roche  <laroche@redhat.com>

	* doc/README 1.19: - typo

	* scripts/oldpyrpm.py 1.117:
	- createrepo: fix rpm excludes to work properly
	- remove comments moved into asciidoc docu

	* doc/README 1.18: - further docu updates

2005-10-10  Florian La Roche  <laroche@redhat.com>

	* doc/README 1.17: - update on huge dep data / metadat

	* doc/README 1.16: - add a comment about this being asciidoc input

	* doc/README 1.15: - add proper escapes for *

	* doc/README 1.14:
	- some more detailed comments about repodata and general rpm info

	* doc/README 1.13: - docu update

2005-10-09  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.116: - move searchDep() into DepList():search()

	* pyrpm/__init__.py 1.35, scripts/oldpyrpm.py 1.115, configure.in 1.28:
	- release 0.34

	* pyrpm/functions.py 1.127, pyrpm/package.py 1.95, pyrpm/resolver.py 1.91, pyrpm/rpmdist.py 1.11:
	- further micro optims by usinig .setdefault() and similar things

	* pyrpm/base.py 1.47: - also optimize the FilenamesList():search()

	* scripts/oldpyrpm.py 1.114:
	- fix regex to detect regexes (from Miloslav Trmac)
	- also mirror sparse/syslinux from http://kernel.org/git/
	- remove some mercurial support, moving more to git now

	* pyrpm/yum.py 1.63: - seems this should be a list

	* doc/README 1.12: - small README update

	* pyrpm/base.py 1.46, pyrpm/io.py 1.98, pyrpm/resolver.py 1.90:
	- optimize FilenamesList()  (saves around 10 seconds for a full dep
	  checking of FC-devel for me)

2005-10-08  Thomas Woerner  <twoerner@redhat.com>

	* scripts/oldpyrpm.py 1.113: [tw] added no specfile check

2005-10-07  Thomas Woerner  <twoerner@redhat.com>

	* scripts/oldpyrpm.py 1.112: [tw]
	- new list EXTRACT_SOURCE_FOR for all packages, where the tar file should be
	  extracted for mercurial option
	- fixed explodeFile to rename the proper directory
	- added pre check to extractSrpm to prevent doing unnecessary work (package is
	  the same)
	- cleanup pkgdir all the time
	- extract tar source file for all pacakges in EXTRACT_SOURCE_FOR
	- add all files recursively
	- remove deleted files
	- disabled createMercurial for non-git

	* pyrpm/resolver.py 1.89:
	[tw] better messages for checkConflicts, checkFileConflicts

2005-10-04  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/functions.py 1.126, pyrpm/yum.py 1.62: * pyrpm/functions.py:
	- findPkgByNames(): fix regexp, remove duplicates from returned list
	* pyrpm/yum.py: RpmYum.processArgs(): look for Provides: redhat-release
	* Misc. documentation improvements

2005-10-03  Florian La Roche  <laroche@redhat.com>

	* doc/README 1.11: - add notes about the repodata

	* doc/README 1.10: - better document createrepo status

	* scripts/oldpyrpm.py 1.111:
	- make createrepo output more compatibel with createrepo-0.4.3

2005-10-02  Florian La Roche  <laroche@redhat.com>

	* pyrpm/control.py 1.72: - fix typo with function name

	* pyrpm/kickstart.py 1.5: - add vi stuff

	* doc/README 1.9: - pyrpmdbrebuilddb update
	- point to test directory for used script

	* scripts/pyrpmrebuilddb 1.10: - fix building install_sha1header
	- fix building install_md5
	- do not write new db if directory already exists
	- be less verbose per default, add '-v'/'--verbose' option

2005-10-01  Florian La Roche  <laroche@redhat.com>

	* pyrpm/__init__.py 1.34: - still require python 2.3 or newer

	* configure.in 1.27, pyrpm/__init__.py 1.33: - new release

	* doc/README 1.8: - further docu updates

	* doc/README 1.7: - further docu update

2005-09-30  Florian La Roche  <laroche@redhat.com>

	* scripts/Makefile.am 1.12, scripts/pyrpmdb2rpmdb 1.4:
	- remove obsolete files

	* doc/README 1.6: - add more links to related projects

	* doc/Makefile.am 1.7, pyrpm.spec.in 1.12:
	- include the html files in the source package, so no asciidoc is
	  required to compile the src.rpm

	* doc/README 1.5: - docu update with more related projects
	- adjust a bit more to asciidoc

	* pyrpm.spec.in 1.11: - add deps for rpm packages from FC development

	* doc/Makefile.am 1.6, doc/README 1.4, doc/README.first 1.3, pyrpm.spec.in 1.10:
	- update docu a bit, start change over to asciidoc

	* BUGS 1.4: - remove BUGS

	* scripts/oldpyrpm.py 1.110:
	- obsoletes matches also against provides/filenames
	- obsoletes/conflicts don't match their own package

2005-09-30  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/createrepo.py 1.10, scripts/pyrpmcreaterepo 1.8:
	- Ported the original createrepo changes to our pyrpmcreaterepo

2005-09-30  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.109: - speed up dependency checking
	- add "--checkdeps" flag, so now "--noverify --nodigest --nopayload --checkdeps"
	  is giving a good indication on how things work without debug code

2005-09-30  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/package.py 1.94:
	- Fixed RHEL3-U2 x86_64 to RHEL3-U4 x86_64 update problem (cause by Epoch
	  problems between repos and binary rpms/rpmdb entries)

2005-09-30  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.108:
	- update for importanttags to reflect current code

2005-09-30  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/config.py 1.43, pyrpm/functions.py 1.125, pyrpm/io.py 1.97, pyrpm/yum.py 1.61, pyrpm/yumconfig.py 1.18, scripts/pyrpmcheckrepo 1.10, scripts/pyrpmdbverify 1.24, scripts/rpmdb2pyrpmdb 1.8:
	- Added a relver variable to our config class. Needed for updates with yum
	  repositories
	- Fixed missing import fnmatch for the new findPkgByNames() implementation
	- Completely removed the pydb database as we don't use it anymore
	- Moved the addRepo code from functions to RpmYum class.
	- Determine the relver from the database and use it for yum repositories.
	- Removed lots of unused code from the yumconfig.py base config class
	- Adapted the scripts to work with the new use and place of addRepo()
	- Added signature MD5 and SHA1 verification to pyrpmdbverify

2005-09-29  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.107: - make sure we really compare all rpms
	- move evrSplit() more up in the source file

2005-09-28  Florian La Roche  <laroche@redhat.com>

	* pyrpm/config.py 1.42, pyrpm/hashlist.py 1.19, pyrpm/io.py 1.96, pyrpm/kickstart.py 1.4, pyrpm/package.py 1.93, pyrpm/resolver.py 1.88, pyrpm/rpmlist.py 1.52, pyrpm/yumconfig.py 1.17, pyrpm/__init__.py 1.32, scripts/oldpyrpm.py 1.106, scripts/pyrpmdbverify 1.23, scripts/pyrpmkickstart 1.24:
	- revert again

	* ChangeLog 1.14, pyrpm/__init__.py 1.31, pyrpm/config.py 1.41, pyrpm/hashlist.py 1.18, pyrpm/io.py 1.95, pyrpm/kickstart.py 1.3, pyrpm/package.py 1.92, pyrpm/resolver.py 1.87, pyrpm/rpmlist.py 1.51, pyrpm/yumconfig.py 1.16, scripts/oldpyrpm.py 1.105, scripts/pyrpmdbverify 1.22, scripts/pyrpmkickstart 1.23:
	update ChangeLog

	* Makefile.am 1.14, build.sh 1.5, pyrpm.spec.in 1.9:
	- cleanup of old files

	* doc/FILES 1.2, doc/INFO 1.3, doc/Makefile.am 1.5, doc/TODO 1.4:
	- remove old obsolete files

	* scripts/pyrpmdbverify 1.21, scripts/pyrpmkickstart 1.22:
	- revert again wrong checkin

2005-09-27  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.104:
	- first ugly support to use git in addition to mercurial for rpm repos

	* scripts/oldpyrpm.py 1.103, scripts/pyrpmdbverify 1.20, scripts/pyrpmkickstart 1.21:
	- more compact changelog text
	- add user from last changelog entry

2005-09-27  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.94, pyrpm/yum.py 1.60, tests/rpmdbtestSha1header 1.3, tests/test 1.18, pyrpm/functions.py 1.124, pyrpm/control.py 1.71:
	- Ported the findPkgByNames() function from oldpyrpm and changed the calls
	  accordingly as it now takes a list of names to search for instead of only 1.

2005-09-27  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.102:
	- write more information into commit lines if new packages are added
	  into mercurial, also add the rpm changelog messages

	* scripts/oldpyrpm.py 1.101:
	- getChangeLog(): allow printing of changelog entries newer than
	  a specific time

2005-09-26  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/control.py 1.70, pyrpm/functions.py 1.123, pyrpm/io.py 1.93, pyrpm/resolver.py 1.86, pyrpm/rpmlist.py 1.50, pyrpm/yum.py 1.59, scripts/pyrpmcheckrepo 1.9, scripts/pyrpmrandomizer 1.7:
	* pyrpm/control.py:
	- RpmController.runOperations(): Return 1 on success
	* pyrpm/rpmlist.py:
	- RpmList.erase(): Print warning on erasing a nonexistent package
	* pyrpm/yum.py:
	- Add some error handling, move sys.exit() to callers
	- Add documentation
	- RpmYum.runCommand(): Fix self.erase_list pruning.
	- Misc. cleanups
	* scripts/pyrpmcheckrepo, scripts/pyrpmrandomizer:
	- Use methods instead of setting attributes directly
	- Add error handling

	* pyrpm/rpmdist.py 1.10: * pyrpm/rpmdist.py: Fix undefined ParsingError

2005-09-26  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/database.py 1.1.2.1: - Forgot to add new database.py file

	* pyrpm/database.py 1.1: New file.

	* pyrpm/package.py 1.88.2.1, pyrpm/yum.py 1.57.2.1, scripts/pyrpmrandomizer 1.5.2.1, tests/test 1.17.2.1, pyrpm/base.py 1.44.2.1, pyrpm/functions.py 1.118.2.1, pyrpm/io.py 1.89.2.1:
	- First (not yet really usable) cut of new backend IO

2005-09-26  Florian La Roche  <laroche@redhat.com>

	* pyrpm/functions.py 1.122: - typo in description

	* scripts/pyrpmdbverify 1.19:
	- revert change to hash instead of using a list

	* scripts/pyrpmcheckrepo 1.8, scripts/pyrpmdbverify 1.18, scripts/pyrpmkickstart 1.20:
	- revert accidental checkin

	* scripts/oldpyrpm.py 1.100: - update to the git/mercurial config

	* scripts/oldpyrpm.py 1.99: - consistent and correct use of open()

2005-09-25  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.98: - use "" for all strings

	* scripts/oldpyrpm.py 1.97:
	- add GzipFile() from createrepo to write rsync-friendly gzip headers
	- RpmTree(): add getPkgsByTime(): sort pkgs by buildtime
	- RpmTree(): add getPkgsNewest(): return list of newest pkgs
	- RpmInfo(): do not depend on size_in_sig to be set
	- extractSrpm(): new function to store a src.rpm
	- checkDeps(): do not add src.rpms
	- checkDeos(): correctly check for fileconflicts with multilib rpms
	- dupes: ignore kernel{,-unsupported}.ia32e as fixup

2005-09-24  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/control.py 1.69, pyrpm/functions.py 1.121, pyrpm/io.py 1.92, pyrpm/package.py 1.91, pyrpm/resolver.py 1.85, pyrpm/rpmlist.py 1.49, pyrpm/yum.py 1.58, scripts/pyrpminstall 1.24:
	* pyrpm/control.py
	- Add documentation
	- eraseFile -> erasePackage, appendFile -> appendUri
	- Return error values instead of sys.exit(1)
	- Add some error handling
	- Misc. cleanups
	* pyrpm/package.py:
	- remove unused db parameter from RpmPackage.__verifyFileErase
	* pyrpm/functions.py, pyrpm/package.py, pyrpm/rpmlist.py:
	- Mention that functions warn the user on failure in their documentation

2005-09-22  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.96:
	- only use rsync for git mirrors if possible

2005-09-21  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.95: - more git -> hg conversion

2005-09-21  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/config.py 1.40:
	- Added the fileverifyflags for resolvertags for proper file conflict checks

2005-09-20  Florian La Roche  <laroche@redhat.com>

	* scripts/pyrpmcheckrepo 1.7, scripts/pyrpmdbverify 1.17, scripts/pyrpmkickstart 1.19, scripts/pyrpmyum 1.47, scripts/oldpyrpm.py 1.94:
	- start to mirror some git repos as well

2005-09-20  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/config.py 1.39: [tw] added filecolors to resolvertags

	* pyrpm/resolver.py 1.84: [tw]
	- fixed file conflict check: honour file color
	- fixed FIXMES and dropped wrong FIXMES:
	- new function _hasConflict to check if a dependency is in a conflict/obsolete
	  list
	- droppend operation from _getConflicts and _hasFileConflict
	- speedup of getUnresolvedDependencies
	- fixed error messages in checkFileConflicts

2005-09-19  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.93, configure.in 1.26, pyrpm/__init__.py 1.30:
	- release 0.32

	* scripts/oldpyrpm.py 1.92:
	- first try to use mercurial (using git makes more sense longterm to
	  have more features. also not sure this is the right place to just
	  dump this in.)

2005-09-17  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/functions.py 1.120, pyrpm/orderer.py 1.32: * pyrpm/orderer.py:
	- Add/update documentation
	- Misc. small cleanups

2005-09-17  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.91: - linelength and whitespace cleanup

	* scripts/oldpyrpm.py 1.90: - remove code duplication

	* scripts/oldpyrpm.py 1.89:
	- createrepo: two pass over all rpms to not use up all memory

2005-09-16  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.88: - more complete 'createrepo' support

2005-09-16  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.91, scripts/pyrpmrandomizer 1.6:
	- Fixed missing idx flag for install_sha1header and install_md5 tags for the
	  RpmDB database.
	- Fixed pyrpmrandomizer to skip debuginfo packages

2005-09-15  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/base.py 1.45, pyrpm/package.py 1.90, pyrpm/resolver.py 1.83, pyrpm/rpmlist.py 1.48:
	* pyrpm/resolver.py:
	- Add documentation
	- Misc. small cleanups

2005-09-15  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.87: - createrepo write support

2005-09-14  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/config.py 1.38, pyrpm/functions.py 1.119, pyrpm/io.py 1.90, pyrpm/package.py 1.89:
	* pyrpm/functions.py:
	- installFile: warn to stderr
	- *Signals: use RuntimeError for the only error case: mismatched pushes
	  and pops
	- getFreeCachespace: Fix undefined variable
	* pyrpm/io.py: fix mismatched blockSignals/unblockSignals calls

2005-09-14  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.86: - start experimenting with CSV files

	* scripts/pyrpmkickstart 1.18:
	- write newline at end of /etc/rpm/platform

2005-09-12  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.85: - fix FilenamesList()

	* scripts/oldpyrpm.py 1.84:
	- also work if only oldfilenames is set for FilenamesList()

2005-09-09  Florian La Roche  <laroche@redhat.com>

	* pyrpm/kickstart.py 1.2: - fixes for pychecker

2005-09-09  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpmkickstart 1.17: [tw]
	- generate label prefix for self generated labels
	- truncate long labels to 16 chars

2005-09-09  Florian La Roche  <laroche@redhat.com>

	* configure.in 1.25, pyrpm/__init__.py 1.29: - release 0.31

	* scripts/oldpyrpm.py 1.83: - cleanup

2005-09-09  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpmkickstart 1.16: [tw]
	- get rid of rhpl and keyboard_models class
	- new function lolist to list all used loop devices
	- new keyboard_models dictionary
	- exit: only sleep if not in awit mode
	- simplified disk mapping and handling:
	  if no map name is given, get it from device name (for hdX, shX, dasdX) or
	  generate a name (hdX)
	- added sanity check for mapping names
	- sanity check for ks["keyboard"]
	- dropped disabled code for removal of unneeded disks

2005-09-09  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.82: - ignore athlon kernels for some checks

	* scripts/oldpyrpm.py 1.81:
	- HashList(): add get() and setdefault() to make this more complete

	* scripts/oldpyrpm.py 1.80: - fix obsoletes detection

	* scripts/oldpyrpm.py 1.79: - add checks for fileconflicts

2005-09-09  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.89:
	- Fixed one place in the PyGZIP module where the restdata could have been
	  constructed wrongly.
	- Removed all the FIXME endian entries, verified them all before and again

2005-09-09  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.78: - cleanup

2005-09-08  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.77: - further cleanup for deps

2005-09-08  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.82: [tw]
	- only compare with package version for unversioned provides

	* pyrpm/orderer.py 1.31: [tw]
	- Class Relation now visible
	- New type of relation: VIRTUAL
	  If a realtion gets removed from a package to breakup a look, a VIRTUAL
	  relation is inserted for all dependent packages. This relation is SOFT for
	  the simple case or HARD, if the removed relation was HARD and the relation
	  from the dependant package is HARD.
	- Predefined variables for HARD and SOFT requirements
	- New functions isHardRelation and isVirtualRelation to check relation type
	- Remember removed relations in dropped_relations to prevent readding
	- Loops are tuples, now
	- Renamed getLoops to detectLoops
	- New sub-function _breakupLoop, which searches for the max_count node in the
	  loop - Search order for removal: VIRTUAL SOFT -> SOFT -> VIRTUAL HARD -> HARD
	- New function _dropRelation, excerpt of breakupLoop
	- New function sortLoops to get the best loop: First sort on number of
	  relations to packages outside the loops, then on relations from outside
	  packages to packages in the loop

2005-09-08  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.76: - cleanup of repo handling

2005-09-07  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.75: - first try at dep checking for rpmdb

2005-09-06  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.74:
	- automatically create local cachedir for urlgrabber
	- add data transfer between rpmdb <-> sig header
	- add more tables about the different archs
	- use .get() more often to speed things up (seen from Miloslav)
	- add basic compare functions for rpm packages
	- automatically transform file:// into local filenames
	- add range to __openFD() if only rpm headers are read
	- add getImmutableRegion() to copy the normal header
	- copy HashList(), FilenamesList() from other pyrpm code
	- copy parsePackages() from yum code
	- add RpmRepo() and classes for reading yum.conf
	- add fix to verify filemd5s from rpmdb (Phil)
	- check double installed pkgs in rpmdb
	- check for noarch + arch-dependent rpms to be installed in rpmdb
	- check for unusual arch in rpmdb
	- read repos from yum.conf to check rpm header against rpmdb
	  Use "yum -c /etc/yum.conf --checkrpmdb" to see current tests.

2005-09-06  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpmkickstart 1.15: [tw]
	- fixed partitionmap[part]["device"] for non images
	- fixed bootloader --location=partition (decrease id by 1)

	* scripts/pyrpmkickstart 1.14: [tw]
	- fixed missing diskmap[disk]["disk"] if disk is not an image

	* scripts/pyrpmdb2rpmdb 1.3, scripts/pyrpmkickstart 1.13: [tw]
	- fixed unset variable in exit for early exits

2005-09-05  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpmkickstart 1.12: [tw]
	- extracted kickstart config class into pyrpm/kickstart.py
	- moved over getopt and noquote_split functions
	- new function buildroot_copy to copy one file in the buildroot to another
	- signal handling with exitHandler and pyrpm.setSignals
	- added wait option: do not cleanup untill user presses any key
	- fixed cleanup in exit function
	- new option kudzu to call kudzu after installation
	- user can now decide which yum to use: --yum uses original yum for
	  installation
	- do not drop unneded disks (required for future paritioning)
	- function partitionId returns integer, not string
	- get label from kickstart file for paritions
	- drop -F from mke2fs, this is not needed anymore, using devices, not files
	- tune ext3 filesystems: max-mount-counts=0, interval-between-checks=0 and
	  enable dir_index feature
	- enable comps for Fedora and RedHat distributions
	- add default group for desktop, xorg-x11 and xorg-x11-twm for xconfig
	  -> this might go away again
	- append, kernel firstboot and dhclient, if configures and needed
	- create /etc/sysconfig/kernel prior to installation
	- write proper /etc/fstab with labels
	- configure /etc/hosts, /etc/resolv.conf /etc/modprobe.conf with information
	  from kickstart file
	- do not hardlink /etc/localtime, has to be copy for system-config-date
	- configure full network according to kickstart file, enable creation of key
	  files
	- proper configure keyboard for xserver
	- setup firstboot
	- create grup configuration and the install it in the buildroot
	- drop try's from child processes, this is not needed at all

	* pyrpm/kickstart.py 1.1: [tw]
	- new kickstart config class (extracted from pyrpmkickstart)

	* pyrpm/functions.py 1.118: [tw]
	- new function setSignals to set the rpmconfig.supported_signals to a new value
	  and store the previous signals in rpmconfig.signals (list with history)
	- new function resetSignals to get back to the previous signals, if there were
	  any
	- blockSignals/unblockSignals are calling setSignals/resetSignals

	* pyrpm/config.py 1.37: [tw]
	- added tmpdir for temporary data, default: None
	- new signals as signal store: list with history
	- new supported_signals, initial list

2005-09-01  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.88, pyrpm/package.py 1.88, tests/test 1.17, pyrpm/base.py 1.44, pyrpm/config.py 1.36, pyrpm/functions.py 1.117:
	- Some more documentation
	- Added filelinktos info to RpmFileInfo class
	- Use the linktos information now to create the symlinks. Verification code is
	  still in place to test if the rpm header info differs from the cpio one
	- Use mkstemp_link() to create hardlinks and copy them in case the hardlink
	  fails
	- Implemented 2 functions to block and unblock the common termination signals
	- Fixed a small bug where Miloslav forgot to remove a "/" for os.path.join()
	  which prevented rpmdb read() from working
	- Use the blockSignal() and unblockSignal() functions in addPkg() and erasePkg()
	  methods of RpmDB and RpmPyDB classes
	- In case of write failures to the databases the internal DB will now be
	  consistent with the actual files on disk.
	- Handle failed "commit" statements in the RpmSqLiteDB class correctly
	- Fixed the isEqual() method of RpmPackage to be compatible to rpm behaviour
	  in respect to Epoch (empty epoch is identical to Epoch=0)

2005-08-31  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/functions.py 1.116: Pedantic cleanup

2005-08-31  Philip Knirsch  <pknirsch@redhat.com>

	* tests/rpmdbtestFilemd5s 1.3, tests/rpmdbtestPackages 1.7, tests/test 1.16, scripts/pyrpmdbverify 1.16, pyrpm/io.py 1.87, pyrpm/functions.py 1.115, pyrpm/control.py 1.68:
	- Implemented the getFreeCachespace() function to determine if we have enough
	  space for the cached rpms for a whole operation
	- Fixed bug where for filemd5 checks "fileflags" was used instead of "filemodes"
	- Fixed Filemd5s database writing to be equal to how rpm does it: Rpm only
	  writes filemd5s entries for files without an empty filemd5s.
	- Used the same logic in pyrpmdbverify for verifying the Filemd5s database
	- Extract some more useful information from primary.xml repo headers. Those
	  packages now also contain the correct pkg["signature"]["size_in_sig"] and
	  the correct range_signature, range_header and range_payload variables.
	- Some needed changes for private test scripts

2005-08-30  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/config.py 1.35, pyrpm/hashlist.py 1.17, pyrpm/rpmlist.py 1.47:
	Add documentation

	* pyrpm/io.py 1.86, pyrpm/yum.py 1.57, scripts/pyrpmcheckrepo 1.6, scripts/pyrpmcreaterepo 1.7, scripts/pyrpmdbconvert 1.3, scripts/pyrpmkickstart 1.11, scripts/pyrpmspecinfo 1.7, scripts/pyrpmyum 1.46:
	Misc. cleanups and error handling
	* pyrpm/io.py:
	- _uriToFilename(): New function, use instead of duplicating code.
	- RpmStreamIO:_read(): Remove, only user changed to FIXME
	- Add documentation
	- RpmRepo.__getChecksum(): Use RpmIO.updateDigestFromRange()
	- RpmCompsXML.write(): Remove

2005-08-29  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/package.py 1.87:
	- Fixed bug with new hardlink algorithm which messed up for non regular files

2005-08-28  Miloslav Trmac  <mitr@redhat.com>

	* scripts/pyrpmcheckrepo 1.5, scripts/pyrpmdbverify 1.15, scripts/pyrpmkickstart 1.10, scripts/pyrpmrebuilddb 1.9, scripts/pyrpmyum 1.45, scripts/rpmdb2pyrpmdb 1.7, tests/delta.py 1.5, tests/yumconfigtest 1.5, pyrpm/config.py 1.34, pyrpm/control.py 1.67, pyrpm/functions.py 1.114, pyrpm/io.py 1.85, pyrpm/package.py 1.86, pyrpm/resolver.py 1.81, pyrpm/yum.py 1.56:
	All files: Add/update documentation, update for interface changes, add error
	handling
	* pyrpm/functions.py:
	- Report some error messages to stderr
	- Use os.path
	- runScript():
	  use exceptions for error reporting
	  return rusage data instead of using an out parameter
	  use [args] instead of arg1, arg2
	- installFile:
	  modsflag -> useAttrs
	  always create a temporary file and os.rename() it
	  create (dummy) sockets
	- setFileMods(file, values) -> _setFileAtrs(file, rfi)
	- unlink() -> _unlink()
	- normalizeRegex() -> patternToRegex(), add missing $
	* pyrpm/io.py:
	- RpmDatabase.{open,close}: don't return anything
	- RpmDatabase.isDuplicate(): handle one file in /etc/rc.d/init.d/ and one in
	  /etc/init.d/ as duclicates
	* scripts/pyrpmkickstart: handle runScript() failures

	* doc/README 1.3, doc/README.first 1.2, doc/README.rpmdb 1.2:
	Misc. typo fixes

	* pyrpm/openpgp.py 1.7: Fix typo

	* pyrpm/base.py 1.43: Add documentation

	* pyrpm/yumconfig.py 1.15: - Add documentation
	- Misc. cleanups

2005-08-26  Florian La Roche  <laroche@redhat.com>

	* scripts/pyrpmdbconvert 1.2, scripts/pyrpmkickstart 1.9:
	- remove trailing whitespace

	* pyrpm/functions.py 1.113, pyrpm/io.py 1.84:
	- compare name directly against gpg-pubkey

2005-08-26  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpmkickstart 1.8:
	[tw] create /var/log/lastlog and /var/log/messages prior to installation

	* pyrpm/io.py 1.83: [tw]
	- fixed usage of self in new functions in RpmCompsXML

	* scripts/pyrpmkickstart 1.7: [tw]
	- new diskmaps: <disk name:disk image>
	- added verify for partitions
	- fixed bug in parseArgs: replace replace_tags
	- new class Disk with parted backend for disk management (read only for now)
	- new function create_dir
	- new function losetup to bind an image or partition to a loop device
	- new function lofree to release a loop device
	- new function diskName to get the disk name from a partition name
	- new function partitionId to get the partition id from a partition name
	- new functions swapon, swapoff
	- new function exit to umount all mounted dirs, cleanup tmpdir and release
	  all loop devices
	- added geteuid check at the start
	- replaced all sys.exit calls with internal exit function
	- dropped old target (device/image) code, replaced with dynamic diskmap,
	  partitionmap and mountmap
	- enable usage of partitions in disk images
	- format partitions in disk images
	- format and use swap partitions
	- added langsupport for packages: install e.g. aspell-de if de_DE is in
	  langsupport
	- add package system-config-securitylevel-tui for selinux and firewall
	  configuration
	- using new diskmap, etc. for /etc/fstab creation
	- write /etc/rpm/platform before installing packages without bash script
	- set root password
	- configure selinux
	- configure firewall with lokkit, dropped old code
	- write /etc/sysconfig/system-config-securitylevel
	- write xen config with diskmap, etc.  information

2005-08-26  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.82:
	- Properly remove keys for empty data from rpmdb files

	* pyrpm/base.py 1.42, pyrpm/functions.py 1.112, pyrpm/io.py 1.81, pyrpm/package.py 1.85, scripts/pyrpmdbverify 1.14, tests/rpmdbtestPackages 1.6:
	- Implemented new way of handling and extracting hardlinks properly. Should
	  work now much better even for broken rpms
	- Fixed bug in RpmDB class where "filestates" wouldn't be written proplerly
	  into the Packages db header
	- Implemented new methods for separate extraction of package names from
	  comps.xml (optional, default and mandatory)
	- Fixed some warning message levels
	- pyrpmdbverify now even checks if the rpmdb package header would be identical
	  with the given package and tries to recreate it from a binary package, too

2005-08-24  Florian La Roche  <laroche@redhat.com>

	* ChangeLog 1.13: - new ChangeLog

	* configure.in 1.24, pyrpm/__init__.py 1.28: - release 0.30

	* scripts/oldpyrpm.py 1.73:
	- Not only look at dev/inode for hardlinks, but also the md5sum.

2005-08-24  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmdbverify 1.13:
	- Fixed install_unknownchecksum to new proper install_gpg

	* pyrpm/base.py 1.41, pyrpm/functions.py 1.111, pyrpm/io.py 1.80, scripts/pyrpmdbconvert 1.1, scripts/pyrpmdbverify 1.12, tests/test 1.15, tests/test10 1.55:
	- Found out what the 262 tag in Packages is and fixed it properly
	- Fixed all the rpmdb reading and writing code for proper conversion between
	  rpmdb signature tags and binary package signature tags
	- Region data will now be autogenerated if the tag doesn't exist
	- Skip the keyring stuff for now, somethings broken in that code atm
	- Check the SHA checksum twice in pyrpmdbverify, once without archivesize,
	  once with
	- Proplerly extended the ingore tag list in diffPkgs in pyrpmdbverify
	- Extended pyrpmdbverify to work with yum repos now, too.

2005-08-23  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.72: - more permissive again with PyGZIP
	- move more debug stuff into doVerify()
	- error message cleanup

2005-08-22  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.71:
	- do not verify header if checksums don't match
	- better error handling

	* scripts/oldpyrpm.py 1.70: - add checks about gzip'ed cpio data size

2005-08-22  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpmkickstart 1.6: [tw]
	- fixed tag addition to dict
	- renamed ks["iptables"]["trust"] to ks["iptables"]["trusted"]
	- append predefined services as port/protocol entreis to
	  ks["firewall"]["ports"]
	- check ports prior to adding
	- new kickstart xconfig
	- strip quotes in parseArgs, new stripQuote funtion in KickstartConfig
	- append iptables, xorg-x11 if they get configured
	- check for device and file exitance before creation
	- always resolvedeps, if there is no ignoredeps and ignoremissing
	- create /etc/samba for authconfig
	- set runlevel to 5 if startxonboot is set in xconfig
	- create /etc/localtime (hardlink with copy fallback)
	- use defaultdesktop from xconfig for /etc/sysconfig/desktop
	- create /etc/sysconfig/iptables, enable firewall if set
	- create /etc/sysconfig/kernel
	- create /etc/sysconfig/mouse with genericwheelps/2
	- write /etc/rpm/platform
	- create /etc/X11/xorg.conf with std-data or kickstart supplied values, no
	  probing!

2005-08-21  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.69: - fixe for last changes

	* scripts/oldpyrpm.py 1.68:
	- delete verifyIndex(), test via writeHeader() is doing the same now
	- cleanup

2005-08-20  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.67:
	- fix the new code to detect the region for sha1 verify

	* scripts/oldpyrpm.py 1.66: - simplify the region checks

	* scripts/oldpyrpm.py 1.65:
	- try to use the immutable region to verify the sha1, only take
	  writeHeader() if no region tag is present (region tags should be
	  in all rpms starting with RHEL3, ??)

	* scripts/oldpyrpm.py 1.64: - do not try to verify badsha1_2
	- more docu cleanup

2005-08-19  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.63: - sys.exit cleanup

	* pyrpm/functions.py 1.110, scripts/pyrpmcheck 1.13, scripts/pyrpmcheckrepo 1.4, scripts/pyrpmcreaterepo 1.6, scripts/pyrpmdbverify 1.11, scripts/pyrpminstall 1.23, scripts/pyrpmrandomizer 1.5, scripts/pyrpmrebuilddb 1.8, scripts/pyrpmspecinfo 1.6, scripts/pyrpmyum 1.44:
	- add a new function run_main() todo the profiling stuff
	- start cleanup on sys.exit() calls

	* scripts/oldpyrpm.py 1.62:
	- fix PyGZIP reading CRC/size at the end of the data (again)

	* pyrpm/functions.py 1.109, pyrpm/io.py 1.79, pyrpm/openpgp.py 1.6, pyrpm/orderer.py 1.30, pyrpm/package.py 1.84, pyrpm/resolver.py 1.80, pyrpm/rpmlist.py 1.46, pyrpm/yum.py 1.55, pyrpm/yumconfig.py 1.14, pyrpm/base.py 1.40:
	- whitespace / tab cleanup

2005-08-18  Thomas Woerner  <twoerner@redhat.com>

	* tests/delta.py 1.4, tests/deltaanalyze.py 1.2, tests/deltagen.py 1.2:
	[tw] added GPL headers

	* scripts/pyrpmkickstart 1.5: [tw]
	- two pass parsing:
	  - first pass: load, parse, execute pre script
	  - second pass: load, parse
	  This allowes to use include files everywhere in the kickstart file
	  Please remember that a pre script in an include file is useless.
	- new function clear in KickstartConfig class to enable two pass parsing
	- dropped continues in parsing function for if-elif construct
	- only print warning for missing include files
	- split up entries in ["bootloader"]["driveorder"] and ["bootloader"]["drives"]
	  in arrays
	- added replace tags for "firstboot"
	- allow to use weak args for "network"
	- fixed unrecognized groups in "%packages"
	- added first version of verify function
	- run prescript early
	- fixed /etc/sysconfig/i18n configuration

2005-08-18  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.61:
	- be less verbose if writeHeader() would write different data

	* scripts/oldpyrpm.py 1.60: - improve checks about the region tag

	* scripts/oldpyrpm.py 1.59: - even better usage() output
	- for db4 use .first() and .next() as faster interface

2005-08-17  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.58: - add a usage() function

	* scripts/Makefile.am 1.11: - add pyrpmkickstart

	* scripts/oldpyrpm.py 1.57: - cleanup

	* scripts/oldpyrpm.py 1.56:
	- add automatic detection of file and host endian order
	- remove "--swapendian" option

2005-08-17  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpmkickstart 1.4: [tw]
	- use absolute path for PYRPMDIR
	- fixed bug in recognizing groups and packages if there is no space delimiter
	- new function check_dir
	- replaced old name in script with new one
	- enabled everything install
	- calling yum in child process
	- honour resolvedeps, ignoredeps and partly ignoremissing
	- better error and status messages
	- better failure tolerance when writing files

2005-08-17  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.55: - more docu for "--checkrpmdb"
	- implement "--verbose" and "--quiet" instead of "--printcontent"

2005-08-17  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.78, pyrpm/yum.py 1.54, tests/rpmdbtestPackages 1.5, tests/test 1.14, pyrpm/control.py 1.66, pyrpm/functions.py 1.108:
	- Implemented the nodeps option finally :)
	- Disabled the keyring stuff for now, seems to be broken
	- Only copy available signature tags to the rpm header for header writes, some
	  may be missing.
	- Initialized pkgs at the right spot in RpmYum class
	- Some more reasonable output for rpmdbtestPackages
	- Other testing cruft

2005-08-17  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.54:
	- automatically detect how to swap endian and have --swapendian
	  without an argument
	- enable additional error messages

	* scripts/oldpyrpm.py 1.53:
	- rpmdb: only first item in the Group file is set

	* scripts/oldpyrpm.py 1.52:
	- add the option "--printcontent" to "--checkrpmdb"

	* scripts/oldpyrpm.py 1.51: - first change to support badsha1_2

	* scripts/oldpyrpm.py 1.50:
	- add a final "/" to the rpmdbpath if not already given

	* scripts/oldpyrpm.py 1.49: - make reading rpmdb more robust
	- add a --swapendian option to read rpmdb from hosts with
	  different endian

2005-08-16  Florian La Roche  <laroche@redhat.com>

	* scripts/pyrpmdbverify 1.10:
	- revert this, not going to work right now

	* scripts/oldpyrpm.py 1.48, scripts/pyrpmdbverify 1.9:
	- add a really ugly hack to support relocated packages, at least it got
	  way less ugly than I feared
	- re-write the todo list a bit

2005-08-16  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpmkickstart 1.3: [tw] honor erroronfail in post

	* scripts/pyrpmkickstart 1.2:
	[tw] only cleanup tempdir if umount succeded

	* scripts/pyrpmkickstart 1.1, tests/ks-install.py 1.2: [tw]
	- moved new and better version of tests/ks-install over to
	  scripts/pyrpmkickstart

2005-08-15  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.47:
	- PyGZIP: Fix crc32 verification for boundary case where not
	  more than 8 bytes are read.
	- PyGZIP: make sure we read until EOF for zlib decompress
	- Better warning for wrong PyGZIP failures.
	- Move "immutable1" into rpmdbtag array.

	* configure.in 1.23, pyrpm/__init__.py 1.27: - 0.29 release

	* pyrpm/io.py 1.77:
	- For zlib crc verification if not all 8 bytes have been replaced did give
	  crc errors.
	- The region tags need to read the offset as signed value to work correctly.

	* pyrpm/io.py 1.76:
	- Do not write region tag at the real end, but still before the
	  install_tags. This should now write tags in rpmdb in the correct order.

2005-08-13  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.46: - add "immutable1" to rpmtag
	- add "origdirindexes", "origdirnames", "origbasenames" to rpmdbtag
	- reduce importanttags some more
	- writeHeader(): put region header before the rest
	- isUrl(): new function to detect urls compared to local files
	- CPIO():
	  - no need to specify "strict" or "verify"
	  - readCpio() use "extract" to specify which function is called
	- ReadRpm(): start to use urlgrabber or URLs
	- ReadRpm(): move more code into debug section
	- ReadRpm(): only warn about wrong 0-size md5sums in strict mode
	- ReadRpm(): fix checking for filemd5s given exactly for regular files
	- ReadRpm(): add checks to verify region headers
	- diffTwoSrpms(): use sameSrcRpm() to check for same rpms
	- RpmTree(): add sort_unify() as generic function
	- readPackages(): also return raw rpmdb data
	- readRpmdb(): check if our writeHeader() function would generate the
	  same data again
	- sameSrcRpm(): match also filenames in addition to md5sums
	- checkSrpms(): add a check if rpms have been built in the order
	  rpm would sort them on version numbers
	- checkDirs() fix detection of debuginfo files
	- add "--rpmdbpath" option

2005-08-12  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.39, pyrpm/io.py 1.75:
	- Fixed a very bad typo in the new install headers that prevented the SHA1
	  sum to be saved.
	- Fixed the architecture integer id in the lead for noarch packages
	- Fixed the isDuplicate() method in RpmDatabase for all cases
	- Added the dsaheader to the headers to be saved in /var/lib/rpm/Packages
	- Adjusted a few code sections for clarity

2005-08-05  Thomas Woerner  <twoerner@redhat.com>

	* tests/ks-install.py 1.1:
	[tw] kickstart install script for xen installs
	 - first version, use with care

2005-08-04  Harald Hoyer  <harald@redhat.com>

	* pyrpm/config.py 1.33, pyrpm/functions.py 1.107, pyrpm/package.py 1.83:
	added --rusage

2005-08-04  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmrebuilddb 1.7:
	- Fixed wrong self.maxid use, we're not in an object. ;)

2005-08-03  Florian La Roche  <laroche@redhat.com>

	* tests/Makefile.am 1.8: - fix typo

	* scripts/Makefile.am 1.10, tests/Makefile.am 1.7, ChangeLog 1.12, configure.in 1.22, pyrpm/__init__.py 1.26:
	- release 0.28

2005-08-02  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmyum 1.43, pyrpm/package.py 1.82, pyrpm/yum.py 1.53, pyrpm/functions.py 1.106, pyrpm/io.py 1.74, pyrpm.spec.in 1.8, pyrpm/control.py 1.65:
	- Started fixing the sys.exit() calls deep inside nested methods()
	- Started cleaning up function and method return calls and use of them
	- Some minor typo fixes
	- Implemented hack to fix /etc/rc.d/init.d/ <-> /etc/init.d/ problems
	- Fixed evil bug with incorrect maxid for rpmdb
	- Small optimization for maxid access
	- Small code rearangement for better readability
	- Fixed bug in comps.xml parser, now uses the cacheLocal()
	- Fixed RpmPackage::erase() method to correctly verify which files need to be
	  removed and/or renamed to ".rpmsave"

2005-07-28  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.38, pyrpm/io.py 1.73, pyrpm/package.py 1.81:
	- Fixed a problem with extracting source rpms and the new filenames list
	  handling
	- Special cased the filemtimes tag to be a signed integer

	* scripts/pyrpmdbverify 1.8:
	- Modified the pyrpmdbverify code to use the double hash idea from Florian

2005-07-27  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.45:
	- scripts/oldpyrpm.py: better work with python-2.2

	* scripts/oldpyrpm.py 1.44: - scripts/oldpyrpm.py:
	  - fix gzip crc/size calculation (Phil Knirsch)
	  - adjust all unpack()/pack() format strings

2005-07-27  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.105, pyrpm/io.py 1.72, pyrpm/package.py 1.80:
	- Added the start of the mktemp stuff
	- Fixed the crc32 and isize reading to use correct endian
	- Use the lead information of a rpm to determine if it is a src or binary rpm
	- Went over all pack() and unpack() calls and harmonized them all

2005-07-27  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.43:
	- scripts/oldpyrpm.py: work again with python 2.2

	* scripts/oldpyrpm.py 1.42: - scripts/oldpyrpm.py:
	  - add rpmdbtag to separate tags only in rpmdb
	  - handel RPM_GROUP better for also writing rpm headers
	  - check if filemd5s is only set for regular files

2005-07-26  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.41:
	- scripts/oldpyrpm.py: set ReadRpm.issrc based on rpm lead data

2005-07-26  Thomas Woerner  <twoerner@redhat.com>

	* tests/delta.py 1.3, tests/deltaanalyze.py 1.1, tests/deltagen.py 1.1:
	[tw]
	delta.py:
	- using time.time insated of time.clock
	- allow to set compression and verify flag at RpmDelta object generation
	- added verify flag
	- more information in "info" mode
	deltagen.py:
	- new checkin
	- analyzes two directories and calls delta.py for matching packages (same name
	  and newer version in second directory)
	- outputs log file
	deltaanalyze.py:
	- new checkin
	- analyzses log output of deltagen.py and prints summary

2005-07-25  Thomas Woerner  <twoerner@redhat.com>

	* tests/delta.py 1.2: [tw]
	- using getopt
	- documentation fixes
	- added info option
	- fixed gzipFile function to use gzip for now

	* tests/delta.py 1.1: [tw] first rpmdelta creator and applier

2005-07-23  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.40: - scripts/oldpyrpm.py:
	  - for two src rpms to be the same, either the payload md5 has
	    to match or the md5sum of all regular files

	* scripts/oldpyrpm.py 1.39: - scripts/pyrpm.py:
	  - add writeHeader() to write again rpm headers
	  - allow checking the sha1 checksum for rpmdb entries

2005-07-20  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.38: - scripts/oldpyrpm.py:
	  - checkrpmdb: restructure a bit and add comments
	  - check if /usr/lib/debug is contained in normal packages

	* scripts/oldpyrpm.py 1.37: - scripts/oldpyrpm.py:
	  - cleanup (ia64 included twice in list, move to internal func)

2005-07-15  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.64, pyrpm/functions.py 1.104, pyrpm/io.py 1.71, pyrpm/yum.py 1.52:
	- Fixed bug with primary.xml and filelist.xml not being cached correctly.
	- Fixed bug where the database would get reread for every fork in the child
	- Some more implicit garbage collection calls. Don't help much, but btn.

2005-07-14  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.51, scripts/pyrpmrandomizer 1.4, scripts/pyrpmyum 1.42, pyrpm/functions.py 1.103, pyrpm/io.py 1.70:
	- Made the tempfile and urlgrabber imports global again and print an error if
	  they fail to get imported.
	- Rearanged the RpmRepo code to reflect method call order
	- Implemented a new XML parser based on the XMLReaderInterface to save tons of
	  memory.
	- Fixed an unecessary sys.exit() in RpmYum class, let the top level app handle
	  failed dep resolution.

2005-07-13  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/control.py 1.63, pyrpm/functions.py 1.102: [tw]
	- getFreeDiskspace: using mount point of device for info messages
	- getFreeDiskspace does no longer return the minfreehash structure, it returnes
	  a status code
	- moved all diskspace messages to getFreeDiskspace
	- control.py: using of new getFreeDiskspace, dropped own diskspace message

2005-07-12  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmrebuilddb 1.6, pyrpm/functions.py 1.101:
	- Fixed some more signed/unsigned int problems
	- Fixed missing maxid setting for Packages in pyrpmrebuilddb

	* pyrpm/package.py 1.79, scripts/pyrpmdbverify 1.7, scripts/pyrpmrebuilddb 1.5, pyrpm/io.py 1.69:
	- Changed the RpmDatabase internal file duplicate handling to use the
	  FilenamesList class
	- Free memory from the crappy libxml2 python bindings. Saves tons of memory!
	- Completely dropped the rpmlib() excludes, don't seem to be present in rpm

2005-07-12  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/package.py 1.78: [tw]
	- same fix for _RpmFilenamesIterator::index

	* pyrpm/base.py 1.37: [tw]
	- fixed dirname in FilenamesList::search:
	  do not append "/" if dirname already ands with a "/"

	* pyrpm/base.py 1.36, pyrpm/resolver.py 1.79: [tw]
	- moved FilenamesList to base.py
	- dropped duplicates list in FilenamesList
	- adapted RpmResolver::getFileConflicts

2005-07-12  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.100, pyrpm/io.py 1.68, pyrpm/package.py 1.77, tests/test 1.13:
	- Added missing check for unset header tags for yum repos in getFreeDiscspace()
	- Implemented missing maxid for rpmdb, should fix corrupted rpmdb problems
	- Fixed several places for pack and unpack and signed and unsigned ints, still
	  need to do complete review and integrate oldpyrpm fix
	- Adapted RpmRepo and RpmPackage classes to work with new filenames iterator
	- Fixed bug in index() method of new filenames iterator

2005-07-12  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.36: - scripts/oldpyrpm.py:
	  - change most 32bit integers to be unsigned

2005-07-12  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/package.py 1.76, pyrpm/resolver.py 1.78: [tw]
	package.py
	- New class iterator _RpmFilenamesIterator, which replaces
	  RpmPackage["filenames"].
	- Replaced "RpmData::__getitem__ = dict.get" by ne class function
	  RpmData::__getitem__, that returns a _RpmFilenamesIterator for
	  item="filenames", which enables a transparent usage of old code.
	- Rewritten RpmData::generateFileNames(), which generates basenames, dirnames
	  and dirindexes for old packages from oldfilenames.

	resolver.py
	- Adapted FilenamesList, which uses RpmData["basenames"], etc. with a new
	  internal structure:
	  File list: Hash(dirname)->Hash(basename)->List(RpmPackage)
	  Multi list has similar structure.
	- Usage of new multi list in RpmResolver::getFileConflicts

2005-07-12  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.35: - scripts/oldpyrpm.py:
	  - distinguish between signed and unsigned RPM_INT32 entries

2005-07-10  Florian La Roche  <laroche@redhat.com>

	* configure.in 1.21, pyrpm/__init__.py 1.25: - release 0.27

	* scripts/oldpyrpm.py 1.34:
	- scripts/oldpyrpm.py: change things to quiet pylint

	* scripts/oldpyrpm.py 1.33: - scripts/oldpyrpm.py:
	  - more docu on how to use this script
	  - use one prefix for all temp files
	  - add doLnOrCopy()
	  - add getMD5()
	  - alllow del of entries in ReadRPM()
	  - allow parsing of header from rpmdb
	  - read/verify rpmdb
	  - allow extracting several rpms and add a "--buildroot" param

2005-07-08  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmdbverify 1.6, scripts/pyrpmrebuilddb 1.4:
	- Fixed a off-by-one error in the pyrpmdbverify script
	- Made the pyrpmdbverify less verbose in case of missing packages
	- Removed a few debug lines in pyrpmrebuilddb

	* pyrpm/control.py 1.62, pyrpm/io.py 1.67, pyrpm/package.py 1.75, pyrpm/yum.py 1.50, scripts/pyrpmdbverify 1.5, scripts/pyrpmrebuilddb 1.3, tests/test 1.12:
	- Extended the RpmDatabase interface to includ open() and close() methods.
	  Needed for proper SQLite support.
	- Fixed the hack to prevent reloading packages from a database. Now RpmPackage
	  takes care of that itself correctly.
	- Finally support and honor the --justdb option.
	- Moved some repeating code from the various database classes to the base class
	  and made them "protected"
	- Open the Packages file in RpmDB with "r" instead of "c". Prevents tracebacks
	  when using it read only as a user.
	- Implemented the RpmSQLiteDB class with complete read and write support.
	- Extended the dbfactory to support sqlite.
	- Added some more checks for the pyrpmdbverify script to avoid tracebacks

2005-07-05  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.32: - scripts/oldpyrpm.py:
	  - fix names of tags only in rpmdb
	  - fix for relocated packages
	  - fix checkSrpms() not working

2005-07-02  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.31: - scripts/oldpyrpm.py:
	  - PyGZIP:
	    - keep to Phil's idea, it is faster
	    - move crc/length check into __del__
	  - do not collect info about all cpio files

2005-07-01  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.99, pyrpm/io.py 1.66:
	- Moved all the python 2.3 imports to the places where we actually need them.
	  Allows commenting out the python 2.3 check for all non-writing scripts.

	* doc/README 1.2: - More docu updates

2005-07-01  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.30: - scripts/oldpyrpm.py:
	  - support relocatable packages
	  - first try to speed up the zlib uncompression

	* configure.in 1.20, pyrpm/__init__.py 1.24: - release 0.26

2005-06-30  Florian La Roche  <laroche@redhat.com>

	* pyrpm/base.py 1.35: - pyrpm/base.py: typo to unused tag?

2005-06-30  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.98, pyrpm/io.py 1.65, scripts/pyrpmdbverify 1.4, scripts/pyrpmrebuilddb 1.2, tests/test 1.11:
	- Fixed missing openpgp module name in functions:readDB()
	- For RpmDB:read() do the same as for RpmPyDB. If it fails, don't bail out with
	  an error. This is needed for quite a few of the test scripts running as
	  normal users
	- Fix the wrong triggername error in pyrpmdbverify
	- Fix the triggername creation in pyrpmrebuilddb

2005-06-29  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.29:
	- scripts/oldpyrpm.py: sync possible rpm tags

	* doc/Makefile.am 1.4: - docu/Makefile.am: add docu files

	* configure.in 1.19, pyrpm/__init__.py 1.23: - release 0.25

	* scripts/Makefile.am 1.9, tests/Makefile.am 1.6:
	- add more tests and scripts

	* scripts/oldpyrpm.py 1.28: - scripts/oldpyrpm.py:
	  - try to always write temp files and only rename at the end
	  - faster handling of path names via os.path split()

2005-06-29  Philip Knirsch  <pknirsch@redhat.com>

	* doc/README 1.1, doc/README.first 1.1, doc/README.rpmdb 1.1:
	- Added some start of really important readme files

	* pyrpm/config.py 1.32, pyrpm/yum.py 1.49:
	- Moved rpmconfig.tid init to the correct place.

2005-06-29  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpminstall 1.22:
	[tw] - ther is no self.config using rpmconfig. instead

	* pyrpm/resolver.py 1.77:
	[tw] - fixed installed check in hasFileConflict

	* pyrpm/resolver.py 1.76: [tw] added missing 'import base'

2005-06-29  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/resolver.py 1.75: - It's flags, darn it. :)

2005-06-29  Thomas Woerner  <twoerner@redhat.com>

	* scripts/pyrpminstall 1.21: [tw]
	- more indent fixes
	- fixed getRpmDBFactory call

	* scripts/pyrpminstall 1.20: [tw] solved indent block problem

2005-06-29  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.64:
	- Remove the __db* temp files from rpm if the exist.

	* pyrpm/io.py 1.63:
	- Ups. Removed debug output from new rpmdb write code. :)

	* pyrpm/config.py 1.31, pyrpm/control.py 1.61, pyrpm/io.py 1.62, pyrpm/yum.py 1.48, scripts/pyrpminstall 1.19, scripts/pyrpmyum 1.41:
	- BIG CHANGE: Switch default db from pydb to rpmdb!
	- Fully implemented rpmdb support with read and write of db (install/erase)
	- Dropped FooDB, not needed anymore
	- Fixed several problems in the read() method of RpmDB class
	- Adapted some of the code to support different types of databases
	- Easy switch via --dbpath or in the config.py

2005-06-22  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.97, pyrpm/io.py 1.61, tests/test 1.10:
	- Fixed the import loop between functions and io (dang, how i hate python
	  imports sometimes... :))))

2005-06-21  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.34, pyrpm/functions.py 1.96, pyrpm/io.py 1.60, scripts/pyrpmdbverify 1.3, scripts/pyrpmrebuilddb 1.1, tests/rpmdbtestPackages 1.4, tests/test 1.9:
	- Added a few more install only tags
	- Moved the archivesize tag to the install only ones, although i can happen
	  for 3rd party rpms to appear in binary rpms... crap...
	- Moved the readPackages() function from the rpmdb scripts to functions as
	  we need it more than once. Might reuse it for other things later.
	- Made the RpmStreamIO.__generateHeader() method accessible as we need it
	  for the pyrpmrebuilddb and pyrpmdbverify scripts
	- Overworked the outputHeader() method so that it now orders the tags the same
	  way rpm does
	- Fixed the generateIndex() method to create an identical index like rpm does
	- Extended the __generateHeader() method to allow different padding and a list
	  of tags to skip. Needed for sha1 checksum tests
	- pyrpmdbverify now also checks the sha1 checksum of the package if possible
	- Fixed a few typos in pyrpmdbverify
	- Added a dbpath argument to rpmdbtestPackages
	- Added pyrpmrebuilddb script with which a rpmdb can be recreated just like
	  with rpm --rebuilddb

2005-06-20  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.74: [tw]
	 - modified ConflictsList to only look at conflicts
	 - new ObsoletesList derived from ConflictsList
	 - renamed provides, conflicts and filenames to provides_list, obsoletes_list
	   and filenames_list
	 - replaced conflict check in install with obsolete check (conflicts have to
	   be checked transaction based)
	 - dropped fileconflict check in install (same as above)
	 - renamed obsoletes in update to pkg_obsoletes and made it temporary class
	   global
	 - dropped _checkConflict, new function _checkObsoletes (honors pkg_updates
	   and pkg_obsoletes)
	 - new functions _getObsoletes, _getConflicts and _hasFileConflict honoring
	   config.checkinstalled with usage in getConflicts etc

	* pyrpm/rpmlist.py 1.45: [tw]
	 - RpmList::updates
	   - renamed updates to pkg_updates and made it temporary class global
	   - delete pkg_updates on return

	* pyrpm/functions.py 1.95:
	[tw] - adopted stringCompare function from oldpyrpm

2005-06-19  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.27:
	- scripts/oldpyrpm.py: complete extractCpio() for all binary/source packages

2005-06-16  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmdbverify 1.2:
	- Extended the script so that it now can verify the contentes of
	  /var/lib/rpm/Packages against given real rpms/dirs of rpms
	- Added 2 options to disable internal and external checks
	- Handle gpgk-pubkey "packages" correctly
	- Handle Requirename correctly, doesn't contain names which are install prereqs

2005-06-14  Philip Knirsch  <pknirsch@redhat.com>

	* tests/rpmdbtestConflictname 1.2, tests/rpmdbtestDirnames 1.2, tests/rpmdbtestFilemd5s 1.2, tests/rpmdbtestInstallid 1.2, tests/rpmdbtestPackages 1.3, tests/rpmdbtestSha1header 1.2, tests/rpmdbtestSigmd5 1.2, tests/rpmdbtestTriggername 1.2, pyrpm/base.py 1.33, scripts/pyrpmdbverify 1.1, tests/rpmdbtestBasenames 1.2:
	- Fixed all rpmdbtest scripts to work with new config parameter style
	- Added first version of pyrpmdbverify script to check /var/lib/rpm :)
	- Added missing install tags to base.py

2005-06-14  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.26: - cleanup

	* scripts/oldpyrpm.py 1.25: - scripts/oldpyrpm.py:
	  - remove class RepoRpm, not useful until now
	  - cleanup

	* scripts/oldpyrpm.py 1.24: - scripts/oldpyrpm.py:
	  - always save some memory for fileusername/filegroupname
	  - allow a first --hotshot arg to enable profiling

2005-06-12  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.23: - scripts/oldpyrpm.py:
	  - add class RPMTree() to work with collections of rpms
	  - add checkArch() to mark archs where src.rpms don't build

2005-06-11  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.22: - scripts/oldpyrpm.py:
	  - add minimal support to extract rpms (works for src.rpm)
	  - add diffTwoSrpm() to diff two source rpms

2005-06-09  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/config.py 1.30, pyrpm/io.py 1.59, tests/test 1.8:
	- Gaaahhh!! python concatenates 2 strings without an operater!!! fixed for
	  fileflags...

	* pyrpm/config.py 1.29: - Added missing "fileflags" to resolvertags

	* pyrpm/resolver.py 1.73: - Fixed missing import for base

2005-06-08  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.94:
	- Removed uneeded code from selectNewestPkgs() function

	* pyrpm/resolver.py 1.72: - Fix typo (flags instead of flag)

	* pyrpm/functions.py 1.93:
	- Fixed latest problem with selectNewestPkgs() and multilib

2005-06-08  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.71: [tw] better warning messages

	* pyrpm/resolver.py 1.70:
	[tw] fixed _checkConflicts and _checkFileConflicts

2005-06-08  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.58:
	- Fixed missing prereq flags for unversioned requires

	* pyrpm/config.py 1.28:
	- Added "sourcerpm" for resolvertags to correctly identify real srpms

2005-06-08  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.54: overlap tests are done by pyrpmcheck

2005-06-08  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/resolver.py 1.69: - Remove same packages from conflic results
	- Fix the non-skip for fileconflicts, too

	* pyrpm/resolver.py 1.68: - Fixed wrong not-skip of same NEVR conflicts

2005-06-07  Thomas Woerner  <twoerner@redhat.com>

	* tests/rpmresolve.py 1.9:
	[tw] - updated rpmresolve.py version, which uses the new resolver

	* tests/rpmgraph.py 1.1: [tw]
	 - new rpmgraph script

	This program prints a tree for package dependencies if '-i' is not given else
	it iterates though the normal ordering process and writes the iteration and
	loop graphs.

2005-06-07  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.53: more rhel checks, path fixes, cleanups

	* tests/test10 1.52: - improve logging
	- add rhel checks

2005-06-07  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.21:
	- pyrpm/functions.py: stringCompare(): more docu

2005-06-06  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.92:
	- Fixed bug in selectNewestPkgs() where for multilib the lower lib packages
	would get filtered out.

2005-06-06  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.67: [tw]
	 - ConflictsList has to use a modified version of ProvidesList::search
	   - do not check resulting package version against provides and filenames
	 - do not check dirs and links in RpmResolver::_checkConflict

2005-06-05  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.20:
	- scripts/oldpyrpm.py: stringCompare(): further cleanup

	* scripts/oldpyrpm.py 1.19:
	- scripts/oldpyrpm.py: stringCompare(): stay closer to rpm code

	* scripts/oldpyrpm.py 1.18: - scripts/oldpyrpm.py:
	  - allow checking for correct utf-8 data
	  - do not trace checking script progs

2005-06-04  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/orderer.py 1.29:
	[tw] readded operation as second arg for genRelations, it had to be use for the
	_operationFlag call

2005-06-03  Florian La Roche  <laroche@redhat.com>

	* pyrpm/__init__.py 1.22, configure.in 1.18: - release 0.24

	* scripts/oldpyrpm.py 1.17: - scripts/oldpyrpm.py:
	  - add labelCompare()/stringCompare()
	  - add reading changelog
	  - allow checking if a rpm can be build for a certain arch

	* pyrpm/functions.py 1.91:
	- pyrpm/functions.py: speed up stringCompare() by removing unnecessary
	  tests and e.g. int() -> ord()

	* pyrpm/resolver.py 1.66, pyrpm/yumconfig.py 1.13:
	- pyrpm/resolver.py: try fixing a bug pychecker complains about

	* pyrpm/orderer.py 1.28:
	- pyrpm/orderer.py: genRelations() doesn't need a second param, remove it

	* pyrpm/yum.py 1.47: - pyrpm/yum.py: no need to time arg processing

	* pyrpm/base.py 1.32: - pyrpm/base.py: set verifyflags correctly

2005-06-03  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.65: [tw]
	 - disable getConflicts if config.noconflicts
	 - disable getFileConflicts if config.nofileconflicts

	* pyrpm/resolver.py 1.64, pyrpm/rpmlist.py 1.44: [tw]
	- RpmResolver
	  - filenames.search is returning a array instead of using it
	- RpmList, RpmResolver
	  - fixed RpmResolver::CONFLICT return value: -11, now
	  - added RpmResolver::FILE_CONFLICT return code
	  - new RpmResolver::installed_file_conflicts structure
	  - extended RpmResolver::_checkConflict, RpmResolver::install and
	    RpmList::install with an operation
	  - RpmResolver::_checkConflict is searching for package names, too
	  - checkinstalled checks in RpmResolver::_checkConflicti,
	    RpmResolver::install, RpmResolver::getConflicts and
	    RpmResolver::getFileConflicts
	  - new NEVRA checks according to RpmResolver::getConflicts
	  - new RpmResolver::install function for conflict and file-conflict checks
	  - dropped conflict checks from RpmResolver::udpate

	* pyrpm/orderer.py 1.27:
	[tw] more verbose debug messages, beautified code

2005-06-03  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.57: - Fixed missing return 1 for RpmStreamIO::write()

	* pyrpm/control.py 1.60, pyrpm/functions.py 1.90, pyrpm/package.py 1.74, pyrpm/yum.py 1.46:
	- Extended pyrpmy to be able to install srpms now, too. Works only if only
	  srpms are give. Use the -r dir option to specify the directory where you
	  want the complete files to be installed. Doesn't honor subdir structure
	  like with rpmmacros.

2005-06-03  Florian La Roche  <laroche@redhat.com>

	* ChangeLog 1.11: - update ChangeLog

	* configure.in 1.17, pyrpm/__init__.py 1.21: - release 0.23

2005-06-01  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.63:
	[tw] fogor to add arch in _checkConflict calls

	* pyrpm/resolver.py 1.62:
	[tw] added per package conflict and obsolete check

2005-05-31  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.89, pyrpm/yum.py 1.45:
	- Moved printing of unresolved deps to correct place
	- Implemented new depresolution fix that tries to resolve as many deps as
	  possible before finally failing
	- Fixed duplicate packages bug in findPkgByName() for regexp and repos

2005-05-31  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.51: arch must be i686 or the tests will fail (Phil)

2005-05-31  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.44:
	- Use really the installed package list for the autoerase check :)

	* pyrpm/yum.py 1.43, scripts/pyrpmcheckrepo 1.3:
	- Restructured dep resolution for upcoming fix
	- Filter out not installed packages from erase_list for autoerase printing
	- Fixed pyrpmcheckrepo for real repository use

2005-05-31  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.50: collect output in one big logfile

2005-05-31  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.88:
	- Fixed the reordering problem for selectNewestPkgs()

2005-05-30  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/resolver.py 1.61:
	- Print out obsoletes for install/update checks using --test

2005-05-30  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.49: check for package overlaps in FC and FE

	* tests/test10 1.48: typos

	* tests/test10 1.47: - remove --servicehack, not required with --test
	- use --arch for fileconflicts check

2005-05-30  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.87, pyrpm/yum.py 1.42, scripts/pyrpmcheck 1.12:
	- Separated selectNewestPkgs() and moved it into functions
	- Fixed selectNewestPkgs() to work correctly with noarch <-> arch switches
	- Fixed yum to report new correct timings for processArgs() and runArgs()
	- Added checkOverlap() test to pyrpmcheck, enable with --overlap option

2005-05-30  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.46: fix path, use update instead of install

	* tests/test10 1.45:
	- add shortcut --checkfedora to run the 4 most important tests on fedora
	- check installation of FC+updates FC+updates+testing, FC+updates+FE
	- check fileconflicts, dependencies, symlinks
	- run update from FC-3 to FC-devel

	* pyrpm/yum.py 1.41: initialize time1

	* scripts/pyrpmcheck 1.11: typo

2005-05-27  Florian La Roche  <laroche@redhat.com>

	* scripts/Makefile.am 1.8: - scripts/Makefile.am:
	  - add scripts/pyrpmcheckrepo

2005-05-25  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.86, pyrpm/yum.py 1.40, scripts/pyrpmcheckrepo 1.2, tests/test 1.7:
	- Separated the addRepo() functionality from processYumConf() into an own
	  function, needed for pyrpmcheckrepo
	- Split the processArgs() into 2 functions, needed for pyrpmcheckrepo
	- Rewrote pyrpmcheckrepo sothat it doesn't require a real installation anymore
	  and can be used to test any arch in memory

2005-05-23  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.16: - fix typo

	* scripts/oldpyrpm.py 1.15: - scripts/oldpyrpm.py:
	  - check all calls to read data from fds
	  - add rpmtag for policy data

	* scripts/oldpyrpm.py 1.14: - scripts/oldpyrpm.py:
	  - move more verify code into doVerify()
	  - filecontexts reappeard in FC-devel
	  - add parsing of passwd/group for chroot case
	  - mark some more functions for internal use only

	* scripts/Makefile.am 1.7: - scripts/Makefile.am: add pyrpmcheck

	* pyrpm/__init__.py 1.20, configure.in 1.16: - release 0.22

2005-05-20  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.31, pyrpm/package.py 1.73, tests/test10 1.44:
	- Added verifyflags to RpmFileInfo
	- Removed OldRpmData class, we still have it in CVS if needed
	- Moved echo in test10 for one test to correct place

2005-05-19  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/rpmlist.py 1.43, tests/test10 1.43:
	- Fixed warning message in rpmlist for already installed packages (level was too
	  low)
	- Fixed wrong use of system /etc/yum.conf for pyrpmyum tests
	- Fixed the runalltests option (actually works now ;)

2005-05-18  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.85, pyrpm/package.py 1.72, pyrpm/yum.py 1.39, scripts/pyrpmcheckrepo 1.1, scripts/pyrpmrandomizer 1.3, scripts/pyrpmyum 1.40:
	- Fixed usage() calls for the yum parsing function
	- Dropped the uneccessary and time consuming eq and ne methods in RpmPackage
	- Some cleanup in the handleConflicts() method of RpmYum
	- usage() text cleanups
	- Added the pyrpmcheckrepo tool with which you can check for repo-less rpms or
	  leftover rpms

2005-05-17  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/package.py 1.71, pyrpm/config.py 1.27, pyrpm/io.py 1.56:
	- Included some more essential tags for working package compares in resolvertags
	- Use resolvertags as a base in the RpmPyDB class now too
	- Overloaded the eq and ne operators in RpmPackage as we have more "info" there
	  for proper comparison

2005-05-16  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/control.py 1.59, pyrpm/createrepo.py 1.9, pyrpm/functions.py 1.84, pyrpm/io.py 1.55, pyrpm/package.py 1.70, pyrpm/rpmdist.py 1.9, pyrpm/yum.py 1.38, scripts/pyrpmcheck 1.10, scripts/pyrpmcreaterepo 1.5, tests/rpmresolve.py 1.8, tests/test 1.6, tests/test2 1.2, tests/test3 1.2, tests/test5 1.2, tests/test6 1.2, tests/test7 1.3, tests/test8 1.2:
	pyrpm/functions.py:
	- (installFile, setFileMods, createLink): Convert to raise Exceptions instead
	  of returning error codes.  All callers changed.
	pyrpm/io.py:
	- (GetRpmIOFactory): Use RpmFileIO for 'file:/'
	pyrpm/package.py:
	- (RpmPackage): Convert to raise exceptions instead of returning error codes.
	  All callers changed, adding error handling as needed.
	- (RpmPackage): Document interfaces.
	tests/test2, tests/test5, tests/test7, tests/test8:
	- Update for changed interfaces

2005-05-14  Miloslav Trmac  <mitr@redhat.com>

	* AUTHORS 1.5, pyrpm/functions.py 1.83, pyrpm/io.py 1.54, pyrpm/package.py 1.69, scripts/rpmdb2pyrpmdb 1.6, tests/rpmdbtestPackages 1.2, tests/test4 1.2:
	pyrpm/io.py:
	- Convert PyGZIP, CPIOFile, Rpm*IO to raise exceptions instead of returning
	  error codes.  All callers changed.
	- Document interfaces of PyGZIP, CPIOFile, Rpm*IO
	- Remove unused RpmStreamIO.hdrtype.
	- Don't require the caller to read all input data between calls to
	  RpmStreamIO.read().
	- Unify code from RpmStreamIO.__generateSig() and
	  RpmStreamIO.__generateHeader() in a helper RpmStreamIo.__GeneratedHeader
	pyrpm/functions.py:
	- New function readExact()
	scripts/rpmdb2pyrpmdb, tests/test4:
	- Update for rpmconfig changes
	AUTHORS:
	- Add myself

2005-05-13  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/config.py 1.26, pyrpm/functions.py 1.82, scripts/pyrpmrandomizer 1.2, scripts/pyrpmyum 1.39:
	- Forgot to import errno in functions
	- Moved some of the default values from yum and randomizer into config
	- Added undocumented checkinstalled option for yum

	* pyrpm/functions.py 1.81, scripts/pyrpmrandomizer 1.1, scripts/pyrpmyum 1.38:
	- Moved the locking functions from pyrpmyum to functions
	- Extracted the yum command line parsing code into a function for use for all
	  yum 'compatible' scripts
	- Added new pyrpmrandomizer for random install and erase tests

2005-05-12  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.58, pyrpm/functions.py 1.80, pyrpm/io.py 1.53, pyrpm/yum.py 1.37, scripts/pyrpmyum 1.37:
	- Implemented local repodata and package caching via urlgrabber
	- Fixed possible multi-rereads of the filelist in RpmYum class
	- Cleaned up some of the IO classes in respect to the use of urlgrabber
	- RpmRepo has a new additional optional constructor parameter with it's name.
	  Used only for repo caching atm.
	- Need to initialize the erase_list in processArgs
	- Dropped unecessary del of self.pkgs

2005-05-11  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.42:
	the layout of or trees sucks. Why can't we use a unique layout for all trees ?

2005-05-11  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.79:
	- Fixed bug in orderList() where the distance elements weren't swapped

2005-05-11  Karsten Hopp  <karsten@redhat.com>

	* scripts/pyrpmcheck 1.9: fix typo

2005-05-11  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.30, pyrpm/yum.py 1.36, scripts/pyrpmcheck 1.8, scripts/pyrpmyum 1.36:
	- Added policies tag (1150) in headertags (needed by a FE package)
	- Don't try to be smart and erase the repos and resolvers after runCommand()
	- Don't sys.exit() if we don't do anything in runOperations, just return ;)
	- Fixed unitialized variable for nofileconflicts case
	- Don't run checks on debuginfo packages, but this time correctly ;)
	- Set the rpmconfig.debug, not rpmconfig.warning twice

2005-05-11  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/orderer.py 1.26: [tw] fixed debug output in genRelations

2005-05-11  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.41:
	dumb idea to remove all logfiles when running tests on multiple archs

2005-05-10  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmcheck 1.7:
	- Ignore debuginfo packages for now, they have zillions of dangling symlinks

	* tests/test10 1.40: - Reverted corrupt checkin for test10

	* pyrpm/base.py 1.29, tests/test10 1.39:
	- Tiny fixes and additions for arch_compats and buildarchtranslate lists to
	  support more archs correctly for tests

2005-05-10  Karsten Hopp  <karsten@redhat.com>

	* scripts/pyrpmcheck 1.6:
	2 separate checkins with a similar fix != fixed

2005-05-10  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.35, scripts/pyrpmcheck 1.5, scripts/pyrpmyum 1.35:
	- Use printInfo() for Test run end message
	- Fixed pyrpmcheck selectNewestPkgs() function parameter name :)
	- pyrpmyum now has a new undocumented option: --arch (only usable for tests)

2005-05-10  Karsten Hopp  <karsten@redhat.com>

	* scripts/pyrpmcheck 1.4: fix variable usage

	* tests/test10 1.38:
	old --arch handling worked only if --arch was first parameter. --clean not necessary anymore

	* tests/test10 1.37:
	clean up directories after run. Run tests on all found trees in a given directory (part 1)

2005-05-10  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/config.py 1.25, pyrpm/functions.py 1.78, pyrpm/yum.py 1.34:
	- Added "sourcerpm" for resolvertags, needed for conflict resolution in yum
	- Fixed machineDistance() function to prefere noarch and same arch over any
	  "real" distance.
	- Fixed some typos
	- Fixed selecteNewestPkgs() method in yum to always use the newest and
	  buildarchtranslate highest package.
	- Split the __findUpdatePkg() methods into __findUpdatePkg() and
	  __handleUpdatePkglist() as the code was duplicate execept a few lines
	- Do conflict handling and autoerasing for conflicts now correctly
	- Don't do obsoletes anymore for packages with the same name, will be done
	  automatically via updates
	- For updates always select either to or from a noarch package or to the
	  closesest buildarchtranslate compatible package.
	- Do some more fancy conflict resolution

2005-05-09  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmcheck 1.3:
	- Fixed selectNewestPkgs() for arch compatible packages

	* tests/test10 1.36: - Fixed obsolete \ for $ARCH in genyumconf

2005-05-09  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.35: use ARCH instead of basearch for yum.conf

	* tests/test10 1.34:
	add a function to show the sourcecode of a function

2005-05-06  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.13: - scripts/oldpyrpm.py:
	  - disable check for filecontext, FC-devel has this tag again
	  - fix sig header checking

	* pyrpm/control.py 1.57, pyrpm/yum.py 1.33, scripts/pyrpmyum 1.34:
	- check for config.test before calling runOperations()

	* scripts/oldpyrpm.py 1.12, scripts/pyrpminstall 1.18, scripts/pyrpmyum 1.33:
	- scripts/oldpyrpm.py: fix typo

	* scripts/oldpyrpm.py 1.11:
	- scripts/olpyrpm.py: more generic solution to check "group" instead of
	  hardcoding in the exception

	* scripts/oldpyrpm.py 1.10:
	- scripts/oldpyrpm.py: pass down rpmtag/rpmsigtag als to verifyTag(), so
	  now this code is fully modular

2005-05-05  Florian La Roche  <laroche@redhat.com>

	* README 1.7, configure.in 1.15, pyrpm/__init__.py 1.19: - release 0.21

2005-05-04  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.33: make it controllable from the commandline

	* tests/test10 1.32: really do RHEL4 tests

	* tests/test10 1.31:
	move all tests in separate functions, add small menu to select tests

2005-05-04  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.9:
	- scripts/oldpyrpm.py: separate out verify of dependencies

	* scripts/oldpyrpm.py 1.8:
	- scripts/oldpyrpm.py: more tests and cleanup

2005-05-03  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/config.py 1.24, pyrpm/functions.py 1.77, pyrpm/package.py 1.68, scripts/pyrpmcheck 1.2, scripts/pyrpmyum 1.32:
	- Fixed install problems on RHL-6.2 and RHL-5.2. ;)
	- Added error message for unsupported unix domain socket files (dev in 5.2)
	- Removed some commented out and unused lines
	- Fixed the missing instance checks in the RpmPackage comparator methods
	- Minor usage() comment fix in pyrpmyum (erase has been working for quite some
	  time)

	* scripts/pyrpmcheck 1.1:
	- Converted oldpyrm checks into a new script with additional feature of newest
	  package selection.

2005-05-03  Florian La Roche  <laroche@redhat.com>

	* pyrpm/functions.py 1.76: - pyrpm/functions.py:
	  - stringCompare(): slightly regroup checks at the beginning
	  - orderList(): compute machinedistance only once for all entries

2005-05-03  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.52, pyrpm/package.py 1.67, pyrpm/resolver.py 1.60, pyrpm/yum.py 1.32, scripts/pyrpmyum 1.31, pyrpm/functions.py 1.75:
	- Small fix/speedup for orderList(). Still need to make a real O(n*log(n))
	  sorter out of it.
	- Fixed small closing tag bug in RpmRepo::createRepo()
	- Renamed FastRpmData to RpmData and renamed original RpmData to OldRpmData
	  as we now always use the FastRpmData
	- Improved the hashing method in FastRpmData
	- Implemented Python comparator methods for RpmData and RpmPackage. pkgCompare()
	  needs to move into RpmPackage soon.
	- Small speedup of Filelist::removePkg() method
	- Dopped normalizeList and orderList() calls on pkg list
	- Fixed __selectNewestPkgs() to honor the buildarchtranslate compatibility
	- Completely recoded and restructured the RpmYum::__runDepResolution() code in
	  order to allow correct multilib, conflict and obsolete handling
	- Had to fix and adapt __handleConflictAutoerases() and __doConflictAutoerase()
	  for those changes.
	- Create our RpmYum object as the first thing in pyrpmyum main()
	- Dropped --nofileconflicts parsing in pyrpmyum, not needed anymore
	- Print out a small message for the hotshot profiler when it starts working on
	  the stats as it takes ages without any output ;)

2005-05-02  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.30:
	remove set -x, don't use wildchars to avoid 'commandline to long' errors

2005-05-02  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.7: - scripts/oldpyrpm.py:
	  - way easier to read code for payload/cpio handling

2005-05-01  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.6: - scripts/oldpyrpm.py:
	  - add PyGZIP from Phil Knirsch
	  - fix some breakages

	* scripts/oldpyrpm.py 1.5: - scripts/oldpyrpm.py:
	  - start new way to store data for the header
	  - faster parseIndex() routine
	  - make keeping binary hdrdata optional

	* scripts/oldpyrpm.py 1.4: - scripts/oldpyrpm.py:
	  - add hotshot profiling
	  - use getopt to parse options
	  - allow specifying directories instead of all rpm files
	  - add optimized routines instead of using stat.py
	  - optimize getFilenames()

2005-04-30  Florian La Roche  <laroche@redhat.com>

	* pyrpm/functions.py 1.74:
	- pyrpm/functions.py: getFreeDiskspace(): add second part of stat optim

	* pyrpm/functions.py 1.73: - optimize away a few more stat calls

2005-04-29  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.29: write log files in common directory for tests

	* tests/test10 1.28: wrong path

	* tests/test10 1.27: run sanity checks on rpms

2005-04-29  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.28, pyrpm/functions.py 1.72, pyrpm/io.py 1.51, pyrpm/yum.py 1.31, scripts/pyrpmyum 1.30, tests/test 1.5:
	- Made arch_compats elements lists instead of tuples  (need list.index())
	- Implemented new orderList() function that sorts packages by machine distance
	  and evr
	- New helper function for machine distance
	- Implemented filelists.xml writing completely
	- Fixed handling of src.rpms in createRepo()
	- Simplified the __runDepRes() inner loop to only resolve 1 dependency and then
	  recalculate the missing deps again directly afterward.
	- Made pyrpmyum a little less nosiy when you specify --quiet.
	- Default verbosity for pyrpmyum is now 1
	- Use the __handleObsoletes() for update without parameter now too.
	- Corrected the __handleObsoletes() method to really do what it was supposed to
	  do.
	- Small code cleanup for coding guidelines
	- Automatically try to make the $buildroot/var/run dir for pyrpmyum locking
	- Fixed the hotshot SystemExit catcher, don't use it because of the forks

2005-04-29  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.26:
	cleanup code, add FC3+updates+testing+extras check, add fileconflicts check

	* BUGS 1.3: another bug

2005-04-29  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/config.py 1.23, pyrpm/control.py 1.56, pyrpm/resolver.py 1.59:
	[tw]
	- config: added checkinstalled as global check
	- control: fixed RpmResolver initialization
	- resolver: use RpmConfig::checkinstalled instead of own check_installed

2005-04-28  Florian La Roche  <laroche@redhat.com>

	* scripts/oldpyrpm.py 1.3:
	- scripts/oldpyrpm.py: add checking for dnagling symlinks

2005-04-28  Karsten Hopp  <karsten@redhat.com>

	* tests/test10 1.25: shut up umount

	* tests/test10 1.24: typo

	* tests/test10 1.23: add missing subdir

	* tests/test10 1.22:
	add --help --arch parameters, per default run i386 and x86_64 tests. add RHEL3-U2 to U5 update test

2005-04-27  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.27, pyrpm/io.py 1.50, pyrpm/package.py 1.66, pyrpm/yumconfig.py 1.12, scripts/pyrpmyum 1.29, tests/test 1.4:
	- Fixed isInstallPreReq() and isErasePreReq() to really return 0 or 1
	- Removed autoloading of database in RpmDatabase base class for various methods
	- Extended flagmaps in RpmRepo for createRepo()
	- Implemented basic version of createrepo in RpmRepo class. Writing primary.xml
	  works correctly and can be used to install packages
	- Use 'pre' flags from repodata, used for orderer
	- Removed not used code for parseGroupHierarchy() in comps.xml parser
	- Changed getRpmIOFactory() to return a RpmHttpIO() object now even for files.
	  Need to rename RpmHttpIO() to RpmUrlIO soon.
	- Don't prefix the yum config file with the chroot
	- Fixed pyrpmyum to have a default for the yum.conf file
	- Fixed YumConf reading to be done after complete argument passing, otherwise
	  ordering of the args would affect the result.
	- Misc changes again to tests/test for createrepo stuff

2005-04-27  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/orderer.py 1.25: [tw]
	 - Using _Relation again, but with hashes not HashLists
	 - RpmOrderer::_operationFlag: Old flag detection was crap.
	   - LegacyPreReq is always a PreReq (install and erase)
	   - isInstallPreReq: install PreReq
	   - isErasePreReq: erase PreReq

2005-04-27  Karsten Hopp  <karsten@redhat.com>

	* BUGS 1.2: run test with -vvv

	* BUGS 1.1: list of known Bugs

2005-04-27  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmyum 1.28: - Fixed new multiline usage of baseurl

2005-04-27  Florian La Roche  <laroche@redhat.com>

	* scripts/pyrpmyum 1.27, tests/test10 1.21:
	- scripts/pyrpmyum: adapt to new yumconf
	- tests/test10: first set buildroot on command line

2005-04-25  Harald Hoyer  <harald@redhat.com>

	* tests/Makefile.am 1.5, tests/yum-test.tgz 1.2: removed yum-test.tgz

	* COPYING 1.1, INSTALL 1.1: default files

	* pyrpm/yumconfig.py 1.11: accept multilines for specific variables
	new __init__ parameters (chroot, reposdir)

	* tests/yumconfigtest 1.4: removed tar file
	create files on the fly
	adapted testcase to the new multiline syntax

2005-04-24  Florian La Roche  <laroche@redhat.com>

	* configure.in 1.14, pyrpm/__init__.py 1.18: - release 0.20

	* scripts/pyrpmyum 1.26, pyrpm/orderer.py 1.24, pyrpm/yum.py 1.30:
	- pyrpm/yum.py: some more timer values
	- scripts/pyrpmyum: add profiling support

2005-04-23  Florian La Roche  <laroche@redhat.com>

	* pyrpm/orderer.py 1.23: - pyrpm/orderer.py:
	  - remove "class _Relation" and add a tuple of hashes instead
	  - simplify logic to specify hard and soft-requirements

	* pyrpm/control.py 1.55: - pyrpm/control.py: cleanup

	* pyrpm/orderer.py 1.22: - pyrpm/orderer.py: fix typo

	* pyrpm/orderer.py 1.21: - pyrpm/orderer.py:
	  - use {} instead of HashList() for _Relation()
	  - do not pass on config if not needed
	  - optimize some smaller loop items

	* pyrpm/functions.py 1.71, pyrpm/package.py 1.65, pyrpm/yum.py 1.29, scripts/.cvsignore 1.3, scripts/pyrpmyum 1.25, tests/test10 1.20:
	- print better info about exit status of run scripts
	- fix writing /sbin/service
	- first version to lock pypmyum (needs another re-write)

	* NEWS 1.2, README 1.6, configure.in 1.13, doc/INFO 1.2, doc/TODO 1.3, pyrpm/__init__.py 1.17, pyrpm/openpgp.py 1.5:
	- release 0.19

	* ChangeLog 1.10, pyrpm/base.py 1.26, pyrpm/config.py 1.22, pyrpm/createrepo.py 1.8, pyrpm/functions.py 1.70, pyrpm/hashlist.py 1.16, pyrpm/io.py 1.49, pyrpm/orderer.py 1.20, pyrpm/package.py 1.64, pyrpm/resolver.py 1.58, pyrpm/rpmdist.py 1.8, pyrpm/rpmlist.py 1.42, pyrpm/yum.py 1.28, scripts/oldpyrpm.py 1.2, scripts/pyrpmyum 1.24, tests/test10 1.19:
	- add "--servicehack" for installs into chroot as e.g. sshd gets stopped
	  also outside of the chroot on rpm removal
	- pyrpm/createrepo.py: adapt to current pyrpm
	- pyrpm/hashlist.py: do not set "config" as first param
	- tests/test10: use shorter logfiles

2005-04-22  Philip Knirsch  <pknirsch@redhat.com>

	* tests/test10 1.18, pyrpm/package.py 1.63, pyrpm/yum.py 1.27, pyrpm/control.py 1.54:
	- Fixed the correct rereading and clearing of pkgs for repodata
	- Some minor code rearrangement
	- Finally fixed the workflow in yum.py where the confirm would be printed
	  without info or unecessarily.
	- Added output for yum.py which operations yum is going to perform now
	- Minor fixes/changes to test10

2005-04-21  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/package.py 1.62, scripts/pyrpminstall 1.17, tests/test 1.3:
	- Fixed bad bug in verifyInstallFile() where sometimes files would get
	  incorrectly overwritten
	- Fixed bug in pyrpminstall (removed obsolete buildroot param from controller
	  init)
	- Small changes to simple test script for debugging the first bug

	* pyrpm/yum.py 1.26: - Switched import of filelist warning to 0

	* pyrpm/io.py 1.48, tests/test10 1.17:
	- Fixed missing "/" between source and package location
	- Fixed wrong grep test10 for testing if dir was still mounted, might need more
	  thinking...

2005-04-20  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/createrepo.py 1.7, pyrpm/io.py 1.47, pyrpm/openpgp.py 1.4, pyrpm/package.py 1.61, pyrpm/yum.py 1.25:
	- pyrpm/createrepo.py: Fix rpmconfig reference
	- pyrpm/io.py:
	  - replace RpmIO::getFdForRange() by getRpmFileSize(),
	    updateDigestFromRange() and updateDigestFromRegion() (moved from
	    RpmPackage::__digestImmutableRegion())
	- pyrpm/openpgp.py:
	  - Stub out pubkey and some hash algorithms if python-Crypto is not available
	  - Document and make consistent exceptions raised on errors
	  - Attempt to recognize when we can with reasonable accuracy claim
	    an invalid signature (as opposed to "signature key not present")
	  - Hash signatures and UIDs by their packet data, not by the parsed objects
	- pyrpm/package.py:
	  - Update RpmPackage::verifySignatureTag() for changed openpgp and RpmIO
	    APIs
	- Misc. pychecker warning fixes

2005-04-20  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.46, pyrpm/yum.py 1.24, pyrpm/yumconfig.py 1.10, scripts/pyrpmyum 1.23, tests/rpmmulti.py 1.3, tests/rpmresolve.py 1.7, tests/test10 1.16:
	- Implemented filelist.xml import in RpmRepo class
	- Handled excludes directly in RpmRepo, not externally
	- Store repos and corresponding resolvers in yum as we might need to import
	  the filelist in case there were unresolved deps
	- Dropped __filterExcludes() from RpmYum class, not needed anymore
	- Added a few comments to the depres part of RpmYum
	- Don't directly autoerase not updatable packages, do that later together with
	  the other unresolved deps
	- Fixed small bug in YumConfig class
	- Per default disable fileconflicts now in pyrpmyum, use --fileconflicts to
	  enable it
	- Fixed a bug for finding the comps.xml file in pyrpmyum
	- Corrected a few missing config.foo_level statements
	- Dropped the --nofileconflicts param in test10
	- Cleaned up the repo based FC1-2-3 test
	- Added the update/removal mix test to test10

2005-04-20  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.57:
	[tw] - new function reloadDependencies to recreate provides and filenames
	  for all packages in the resolver

2005-04-20  Florian La Roche  <laroche@redhat.com>

	* scripts/Makefile.am 1.6, scripts/oldpyrpm.py 1.1:
	- scripts/oldpyrpm.py: add old version of pyrpm script since
	  it can still be useful for testing rpm packages

2005-04-20  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.23: - Fixed small bug in addRepo()
	- Store the repos now, too as we need them later for reread if we have un-
	  resolved deps

2005-04-20  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/io.py 1.45: [tw] - enable openpgp again

2005-04-20  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.25, pyrpm/config.py 1.21, pyrpm/control.py 1.53, pyrpm/createrepo.py 1.6, pyrpm/functions.py 1.69, pyrpm/hashlist.py 1.15, pyrpm/io.py 1.44, pyrpm/openpgp.py 1.3, pyrpm/orderer.py 1.19, pyrpm/package.py 1.60, pyrpm/resolver.py 1.56, pyrpm/rpmdist.py 1.7, pyrpm/rpmlist.py 1.41, pyrpm/yum.py 1.22, scripts/pyrpminstall 1.16, scripts/pyrpmyum 1.22, scripts/rpmdb2pyrpmdb 1.5:
	- Huge change due to new RpmMessageHandler class and how we do
	  info/warning/debug/error output/handling

2005-04-20  Florian La Roche  <laroche@redhat.com>

	* pyrpm/functions.py 1.68:
	- pyrpm/functions.py: move tmplist to correct indentation

2005-04-19  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/package.py 1.59: - add RpmPackage::verifyOneSignature()
	- Check a signature in RpmPackage::read() if self.verify is true

	* pyrpm/control.py 1.52, pyrpm/yum.py 1.21:
	- Pass RpmDatabase reference when creating RpmPackage objects

2005-04-18  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/io.py 1.43, pyrpm/openpgp.py 1.2, pyrpm/package.py 1.58:
	- pyrpm/io.py:
	  - RpmFileIO::__openFile(): Just open the file, don't touch self.fd
	  - RpmFileIO::getFdForRange(): Fix handling self.source.startswith("file:/")
	  - RpmDatabase: new member keyring
	  - RpmDB::read(), RpmPyDB::read(): Read public keys to self.keyring
	  - RpmPyDB::__mkDBDirs(): Create $source/pubkeys
	  - Fix getRpmDBFactory()
	- pyrpm/openpgp.py:
	  - Add armor decoding
	  - Fix signature list copying
	  - Remove testing code
	- pyrpm/package.py:
	  - Don't use 'types' module
	  - RpmPackage::__init__(): New parameter db, initializes self.db
	  - RpmPackage::verifySignatureTag(): Handle public key signatures
	  - readRpmPackage(): New parameter db

2005-04-18  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/package.py 1.57:
	- Small hack to convert deps tuple to list again for triggers

2005-04-18  Florian La Roche  <laroche@redhat.com>

	* tests/test10 1.15:
	- test/test10: fix updates to newer releases (Phil Knirsch)
	- test/test10: add ARCH to maybe test this on x86_64

2005-04-18  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.67, pyrpm/yum.py 1.20, tests/test10 1.14:
	- Prefilter the list in findPkgByName() for a big speedup for the update case
	- Only do regex search if the name contains a "*"
	- Restructured the yum.py code for codepath flow

	* pyrpm/rpmlist.py 1.40:
	- Moved "already installed" warning 1 level higher as it's really unecessary

2005-04-18  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/package.py 1.56: - speed up RpmPackage::__getDeps() again

2005-04-17  Florian La Roche  <laroche@redhat.com>

	* tests/test10 1.13: - newer tests

	* pyrpm/package.py 1.55:
	- pyrpm/package.py: - slightly speed up __getDeps()

	* pyrpm/orderer.py 1.18:
	- pyrpm/orderer.py: slightly optim code, fix one small typo "order" -> "order2"

	* pyrpm/rpmlist.py 1.39:
	- pyrpm/rpmlist.py: speed up __getitem__ by setting this within __init__()

	* pyrpm/yum.py 1.19:
	- pyrpm/yum.py: add more kernel variants to install-only

	* pyrpm/hashlist.py 1.14:
	- speed up pop() in case it is used more often
	- actually return the value for pop()

	* pyrpm/functions.py 1.66: - small optim to skip empty shell-scripts
	- todo: rework exit status reporting

2005-04-17  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/control.py 1.51, pyrpm/createrepo.py 1.5, pyrpm/package.py 1.54, pyrpm/rpmdist.py 1.6, pyrpm/yum.py 1.18:
	- new function package.readRpmPackage(), use where possible

	* pyrpm/control.py 1.50, pyrpm/io.py 1.42, pyrpm/rpmlist.py 1.38, pyrpm/yum.py 1.17:
	Miscellaneous warning fixes

	* pyrpm/package.py 1.53, scripts/pyrpmcreaterepo 1.4, pyrpm/createrepo.py 1.4, pyrpm/functions.py 1.65, pyrpm/io.py 1.41, pyrpm/openpgp.py 1.1:
	- openpgp.py: New file, not used yet
	- New function updateDigestFromFile(), use where possible
	- pyrpm/io.py:
	  - New methods RpmIO::getFdForRange(), RpmFileIO::getFdForRange()
	  - Stricter check when reading index
	- pyrpm/package.py:
	  - Simplify FastRpmData::__init__()
	  - New method RpmPackage::verifySignatureTag()
	- pyrpm/createrepo.py, scripts/pyrpmcreaterepo: cleanup use of os.stat()

2005-04-15  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.55, pyrpm/rpmlist.py 1.37:
	[tw] - remove erased packages out of upsates and obsoletes list

2005-04-14  Philip Knirsch  <pknirsch@redhat.com>

	* tests/test10 1.12: - Reverted wrong fix for shit
	- Fixed fuser usage, needs to be called after --nodev check

	* tests/test10 1.11:
	- Fixed bug where arglist wasn't shifted if --nodev wasn't given

	* pyrpm/control.py 1.49, pyrpm/io.py 1.40, pyrpm/package.py 1.52, pyrpm/yum.py 1.16, scripts/pyrpmyum 1.21, tests/test 1.2, tests/test10 1.10:
	- Fixed missing pkg.close() in RpmController::runOperation()
	- Fixed file:/ URL handling in RpmFileIO class
	- Removed __mkDBDirs() calls for RpmPyDB if we only try to read
	- Implemented the RpmRepo database class. Only read support for now
	- Fixed RpmUserCache class to only use getpwnam() and getgrnam() if we are not
	  in a buildroot
	- Only do file conflict autoerase if fileconflicts aren't disabled
	- Correctly instanciate the RpmController object with the correct base operation
	- Rewrote addRepo() in RpmYum to use the new RpmRepo class
	- Moved old addRepo() to addRepoByDir()
	- Adapted pyrpmyum to use new addRepo() interface
	- Added --installpkgs command line option to allow setting which packages
	  always get installed instead of updated (by default kernel)
	- Small changes and fix to basic tests/test app, ignore
	- Fixed test10 to unmount /mnt/raid if cleanchroot() is called
	- Use $PYRPMYUM everywhere we use pyrpmyum
	- Fixed wrong dir for raw FC1 install (was 2 instead of 1)
	- Clean the FC1-2-3 chroot bevor doing a new testrun
	- Use update command for the update from FC1 to FC2 and FC2 to FC3

2005-04-13  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/rpmlist.py 1.36:
	[tw] added missing archDuplicate for the ALREADY check in update if old and
	 new package have the same NEVR

2005-04-12  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/yum.py 1.15: [tw]
	 - prefilter packages get from the repositories to solve unresolved
	   depedencies to prevent multiple install attempts of the same packages

2005-04-12  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.48, pyrpm/package.py 1.51, pyrpm/yum.py 1.14:
	- Adapted control.py to use new resolver/orderer functionality
	- Honor %ghost files during uninstall and don't complain if it's missing ;)
	- os.path.isdir() returns 1 even if it's a symlink that points to a dir :(
	  Fixed erase() for that case
	- yum.py now checks if the given command is vaild
	- Don't try to print out usage() from yum.py ;)
	- Adapted yum.py to use new resolver/orderer functionality
	- Implemented remove and groupremove in yum.py
	- Added autoerase for fileconflicts

2005-04-12  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/orderer.py 1.17, pyrpm/resolver.py 1.54, pyrpm/rpmlist.py 1.35:
	[tw] - RpmList and RpmResolver are not bound to a specific operation anymore,
	  RpmOrderer is a two stage process now:

	- New functions RpmList::install, RpmList::update, RpmList::freshen and
	  RpmList::erase functions, removed old RpmList::append
	- RpmList::appended split up in two lists:
	  - RpmList::installs and RpmList::erases
	    installs contains all packages wich are added to the list, erases all
	    packages, which are removed. This includes updated and obsoleted
	    packages.
	- RpmResolver::updates moved to RpmList, also all functionality for this
	  list
	- Added semi-private function RpmList::_install, which has a no_check tag
	  to make it possible to add all packages from the installed tree.
	- New RpmList::__contains__ function to check if a package is in the list
	- New functions for inheritance of updates and obsoletes:
	  RpmList::_inheritUpdates and RpmResolver::_inheritObsoletes
	- Droppend old RpmResolver::erased list
	- Renamed RpmResolver::_update to RpmResolver::update and RpmResolver::_erase
	  to RpmResolver::erase
	- Dropped unneeded RpmResolver::_pkgErase
	- Dropped already deprecated RpmResolver::doObsoletes
	- The constructor of RpmOrderer now gets the installs, updates, obsoletes and
	  erases lists from a RpmResolver and no operation anymore:
	  All packages in installs are getting installed or updated, if the package
	  is a key in updates or obsoletes
	- RpmOrderer::genRelations now needs a list of packages and an operation
	- New function RpmOrderer::_genEraseOps, the code was the same twice in
	  RpmOrderer::genOperations
	- RpmOrderer::orderRpms renamed to RpmOrderer::_genOrder:
	- New function RpmOrderer::genOrder, which calls RpmOrderer::_genOrder for
	  the installs and then for the erases. The ordering of the operations is
	  slightly different now:
	  The installs and updates are sorted like they were. The erases are ordered
	  and reversely appended to this list to make sure that the chance of a#
	  breakage is small while doing these operations.

2005-04-11  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.13:
	- Fixed bug where obsolete packages weren't discovered correctly anymore
	- Added RpmYum::__appendPkg() which handles the always_installed stuff
	- Check if the given command is actually something we can deal with ;)

2005-04-11  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/rpmlist.py 1.34:
	[tw] moved appended.append fromappend to to _install and _erase

2005-04-10  Florian La Roche  <laroche@redhat.com>

	* tests/test10 1.9: - update test/test10

2005-04-09  Florian La Roche  <laroche@redhat.com>

	* configure.in 1.12, pyrpm/__init__.py 1.16, pyrpm/functions.py 1.64, pyrpm/yum.py 1.12, tests/test10 1.8:
	- release 0.18
	- temporarely disable special kernel/kernel-smp treatment
	- more complete test/test10 script

2005-04-09  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.11:
	- resolver._install() doesn't work yet correctly, need to fix on Monday

2005-04-08  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.47, pyrpm/functions.py 1.63, pyrpm/io.py 1.39, pyrpm/package.py 1.50, pyrpm/yum.py 1.10, tests/test10 1.7:
	- Extended getFreeDiskspace() to now use operations instead of pkglist
	- Really handle return of getFreeDiskspace() and print useful information
	- Renamed RpmCompsXMLIO to RpmCompsXML
	- printWarning() for same config file needs level 2
	- Implemented basic version of packages to always install
	- Implemented preselection of newest packages before feeding it into the
	  resolver
	- Added autokill of process in buildroots in test10 script

2005-04-08  Nils Philippsen  <nphilipp@redhat.com>

	* pyrpm/io.py 1.38: add getRpmDBFactory()

	* pyrpm/io.py 1.37: fill FooRpmDB, restructure a bit

	* pyrpm/io.py 1.36: add class FooRPMDB

2005-04-08  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.46, pyrpm/io.py 1.35, pyrpm/yum.py 1.9, scripts/pyrpminstall 1.15, tests/test10 1.6:
	- Constructor of RpmController now takes the operation, real db and buildroot
	- Removed operation, db and buildroot params from handleFiles and handlePkgs
	- RpmController doesn't generate and read an own database anymore
	- RpmController::getOperations() now takes an optional resolver (needed for yum)
	- Changed all self.installed accesses to self.[py]db.getPkgList()
	- Use new interface to set buildroot in chrooted child for db object
	- Dropped __readDB() from RpmController
	- Fixed ignorearch in RpmController
	- Dropped obsolete IO classes from io.py
	- Implemented new RpmDatabase class with basic interface. Implementations are
	  necessary for:
		o read()
		o write()
		o addPkg()
		o erasePkg()
	- RpmDB and RpmPyDB now inherit from RpmDatabase
	- Changed yum to now keep the RpmPyDB and use that for control object
	- Fixed pyrpminstall to use new RpmController() interfaces
	- Extended tests/test10 to also do a FC1 -> FC2 -> FC3 update test

2005-04-08  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/rpmlist.py 1.33: [tw]
	- new function __install_check, used in _install and _update
	- new function __arch_incompat, used in _update
	- code cleanup in _update

	* pyrpm/rpmlist.py 1.32: [tw]
	- HashList::__getitem__(integer) returns the key and not the key, value pair
	  anymore
	- using [ ] and { } instead of [] and {}
	- _install is checking only equality of packages for already_added and
	  already_installed check

	* pyrpm/resolver.py 1.53: [tw]
	- HashList::__getitem__(integer) returns the key and not the key, value pair
	  anymore
	- using [ ] and { } instead of [] and {}
	- added verbose level for error logs in checkFileConflicts and checkConflicts

	* pyrpm/orderer.py 1.16: [tw]
	- HashList::__getitem__(integer) returns the key and not the key, value pair
	  anymore

	* pyrpm/hashlist.py 1.13: [tw]
	- HashList::__getitem__(integer) returns the key and not the key, value pair
	  anymore
	- using [ ] and { } instead of [] and {}
	- pop is not popping the item out of the list before calling __delitem__

	* pyrpm/functions.py 1.62: [tw]
	- made deprecated functions filterArchDuplicates and filterArchList empty
	- use { } and [ ] instead of {} and []

2005-04-08  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/package.py 1.49: - Added isEqual() and isIdentical() methods

	* pyrpm/yum.py 1.8:
	- Changed repo.appended to repo.getList() after requires resolver changes
	- Did a __doAutoerase() method as it gets called 3 times and needed some more
	  logic
	- Always check bevor we do an resolver.append() if the package wasn't in the
	  erase_list
	- Improved addRepo() to create a resolver with the package list as installed
	  packages rather than doing appends

2005-04-07  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/rpmlist.py 1.31:
	[tw] set nocheck in _update to update to an new version

	* pyrpm/resolver.py 1.52, pyrpm/rpmlist.py 1.30:
	[tw] allow to add conflicting installed rpms

	* pyrpm/rpmlist.py 1.29:
	[tw] - do not readd obsoleted or updated and readded packages

	* pyrpm/rpmlist.py 1.28: [tw]
	- using archDuplicate
	- fixed _install: never search in installed, this has to be list

	* pyrpm/resolver.py 1.51: [tw]
	- using archDuplicate and archCompat functions instead of accessing
	  buildarchtranslate and arch_compats
	- added inheritance of updates in _pkgObsolete

	* pyrpm/orderer.py 1.15: [tw] new orderer
	- detect all loops and break loop at the most used relation which is no hard relation (prereq) if there are soft relations in the loops
	- some code cleanup in orderRpms

	* pyrpm/control.py 1.45:
	[tw] added flush of stdout before operation loop

2005-04-07  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.7: - Moved conflict autoeraser into separate method
	- Called conflict autoeraser after the complete depres run, just to be sure.

	* pyrpm/package.py 1.48, pyrpm/yum.py 1.6:
	- Fixed missing \n in several printError/Warning statements
	- Honor --ignorearch in pyrpmyum
	- Fixed missing filter for incompatible archs

2005-04-07  Florian La Roche  <laroche@redhat.com>

	* tests/test10 1.5: - sync tests to newest version

2005-04-07  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/rpmlist.py 1.27: [tw] better messages for package ignoring

2005-04-06  Florian La Roche  <laroche@redhat.com>

	* configure.in 1.11, pyrpm/__init__.py 1.15, pyrpm/io.py 1.34, pyrpm/yum.py 1.5:
	- release 0.17
	- cleanup some pychecker warnings

2005-04-06  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/package.py 1.47:
	- Fixed multiarch check in RpmPackage::__verfiyInstallFile()

2005-04-06  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.50:
	[tw] - package inherits obsoletes from obsoleted and updated packages

2005-04-06  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.44, pyrpm/package.py 1.46:
	- Nagging Thomas change: Added 8 more #es to the output again. :)
	- Added "Install" opstring for output

	* pyrpm/control.py 1.43: - Moved increment to correct position.

	* pyrpm/control.py 1.42, pyrpm/package.py 1.45, pyrpm/yum.py 1.4, scripts/pyrpminstall 1.14:
	- Split RpmController::run() into several parts so we can modify the operations
	  outside of the controller
	- Fixed pyrpminstall and pyrpmyum to use that new interface
	- Moved the "thisisaobsoletespackage" check to yum.py
	- Output all opertaions again with a prefix what is being done

	* pyrpm/control.py 1.41, pyrpm/functions.py 1.61, pyrpm/io.py 1.33, pyrpm/package.py 1.44, pyrpm/yum.py 1.3:
	- Optimized and fixed CPIOFile::read() to behave like a single file
	- Need to skip to next file in the cpio archive in RpmPackage:__extract() in
	  case we don't really install a file
	- Fixed a couple of typos and cut&paste errors in yum.py
	- Removed respklist from __runDepResolution() and replaced it with a flag
	- Fixed package selection if no packges were added or found for a single dep
	  or for all deps.
	- Dropped all doObsoletes() calls

2005-04-06  Florian La Roche  <laroche@redhat.com>

	* pyrpm/functions.py 1.60, pyrpm/config.py 1.20, pyrpm/control.py 1.40:
	- optimize some /sbin/ldconfig calls away by delaying them until the first
	  real script is run. This removes about 140 /sbin/ldconfig calls for a
	  fresh FC3-i386 install.

2005-04-06  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.49: [tw]
	- handle obsoletes per package in _update
	- do not replay obsoletes and updates on package removal
	- obsoleted doObsoletes, raises exception
	- removed doObsoletes call from resolve

	* pyrpm/rpmlist.py 1.26:
	[tw] fixed update to and from noarch packages with old_ver < new_ver

2005-04-05  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.48:
	[tw] fixed checkConflicts to use conflicts.keys instead of conflicts

2005-04-05  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.39, pyrpm/functions.py 1.59, pyrpm/yum.py 1.2:
	- Don't reappend any packages that have been autoerased
	- Do some more tmplist filtering based on nevra
	- Simplify RpmController::__preprocess() to only call filterArchCompat()
	- Reenable filterArchCompat(), we still need that
	- Run filterArchCompat() on repo packges

2005-04-05  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.47, pyrpm/rpmlist.py 1.25: [tw]
	- merged in functionality from filterArchCompat, filterArchDuplicates and
	  filterArchList, which are deprecated

	* pyrpm/functions.py 1.58: [tw]
	 - new functions archCompat and archDuplicate
	 - filterArchCompat, filterArchDuplicates and filterArchList are deprecated,
	   now

2005-04-05  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/yum.py 1.1, scripts/pyrpmyum 1.20, pyrpm/base.py 1.24, pyrpm/control.py 1.38, pyrpm/functions.py 1.57, pyrpm/io.py 1.32, pyrpm/package.py 1.43:
	- Extended RpmFileInfo to have a getHardLinkID() method. Used in RpmPackage
	  for hardlink detection during install
	- Converted the last few print commands i found to corresponding printFOO()
	  calls
	- Changed behaviour of installFile() and read() in RpmIO for the cpio archive
	  to return filename, cpio and filesize instead of the whole data. Makes
	  installing large files a lot snappier and takes way less memory
	- Set file mods for device files, too
	- Dropped some debug print calls
	- Extended CPIOFile to behave a little like a filedescriptor so we can use it
	  in installFile()
	- Do automatic padding in getNextEntry() in CPIOFile
	- Finally remove gzip reference, the new PyGZIP is already much better and
	  faster
	- Moved a lot of the functional code of pyrpmyum in an own class in yum.py
	  so we can use it elsewhere externally

2005-04-04  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.46: [tw]
	- replay obsoletes and updates on package erase
	- new handling of update packages in updates list: adopt update list of old
	  update
	- getConflicts returns a HashList analog to getUnresolved etc.

2005-04-04  Florian La Roche  <laroche@redhat.com>

	* pyrpm/functions.py 1.56, scripts/pyrpmyum 1.19:
	- pyrpm/functions.py: delete debugging output
	- scripts/pyrpmyum: typo

	* configure.in 1.10, pyrpm/__init__.py 1.14:
	- configure.in, pyrpm/__init__.py: 0.16 release

	* tests/Makefile.am 1.4, tests/test10 1.4:
	- tests/test10: add current test script if people want to play with it

	* scripts/pyrpmyum 1.18: - scripts/pyrpmyum:
	  - add --nofileconflicts option
	  - create "repos = RpmResolver(...)" earlier to e.g. allow new
	    installs into a chroot without the need to add any repository at all

	* pyrpm/config.py 1.19:
	- now we have nofileconflicts and fileconflicts as config vars, remove one

	* pyrpm/__init__.py 1.13: - require Python 2.3 or newer

2005-04-01  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/config.py 1.18, pyrpm/control.py 1.37, pyrpm/functions.py 1.55, pyrpm/package.py 1.42, pyrpm/resolver.py 1.45, scripts/pyrpmyum 1.17:
	- Renamed nofileconflictcheck and noconflictcheck to names without check
	- Need to count real # of operations in RpmController.run()
	- Do only output the operations related to the real global operation
	- Honor notriggers option
	- Honor noscripts option
	- Automatically create /dev/null in runScript() if it isn't there
	- Fixed a bug in filterArchList() where packages were wrongly removed/selected
	- Removed filterArchList() from findPkgByName()
	- Check if file exists on disk in RpmPackage::verifyFileInstall() befor doing
	  operations on it
	- Check if file is a regular file befor trying to calc the md5sum of it
	- Implemented autoerase feature in pyrpmyum: Automatically erases packages
	  which couldn't be updated or which had unresolved deps.
	- Cleaned up the opts in pyrpmyum
	- Added the -y flag and feature in pyrpmyum
	- Removed -w and -d flags, use -v at higher levels to increase them
	- Only use one repo for all repos (one repo to rule them all... ;)))))

2005-04-01  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/control.py 1.36, pyrpm/io.py 1.31, pyrpm/yumconfig.py 1.9:
	* pyrpm/control.py: Fix progress string
	* pyrpm/io.py: Fix _write() and _tell() stubs in RpmHttpIO
	* pyrpm/yumconfig.py: Minor cleanup

2005-04-01  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.44:
	[tw] using rangeCompare for range compares in ProvidesList::search, the old
	check had problems with some ranges

	* pyrpm/rpmlist.py 1.24:
	[tw] _update: first check list and then installed for old package check

	* pyrpm/functions.py 1.54:
	[tw] new rangeCompare function to compare version ranges

2005-04-01  Florian La Roche  <laroche@redhat.com>

	* configure.in 1.9, pyrpm/__init__.py 1.12, pyrpm/functions.py 1.53, scripts/pyrpmyum 1.16:
	- 0.15 released
	- scripts/pyrpmyum: do not delete repos[] too soon

2005-03-31  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/rpmlist.py 1.23:
	[tw] - self.list[pkg["name"]] can be None.. added check

	* pyrpm/rpmlist.py 1.22: [tw] - added already added check in updates

2005-03-31  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/io.py 1.30, pyrpm/package.py 1.41, scripts/pyrpmyum 1.15, pyrpm/control.py 1.35:
	- Fixed progress output for automatic erases for package update
	- Implemented own PyGZIP class as original one did usless seeks and tells on
	  the filedescriptor :(
	- Managed a good speedup with the new PyGZIP class during install
	- Virtualized the filedescriptor _read() and _write() methods in RpmIO for
	  special overwrites for derived classes
	- Implemented RpmFtpIO and RpmHttpIO using urlgrabber package
	- Fixed uncessary package adds for runDepResolution() in pyrpmyum
	- Extended addDirToRepo() in pyrpmyum to support exclude lists
	- Dropped obsolete --repo and -g|--group config options for pyrpmyum
	- Implemented rudimentary yum config file support in pyrpmyum
	- Implemented complete update of system without giving any packages
	- Fixed problem where an update didn't pull in new Provides/Obsolete packages
	  for update.

2005-03-31  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/orderer.py 1.14:
	[tw] lost last list - i hate CVS merge!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

	* pyrpm/resolver.py 1.43: [tw]
	- removed test prints
	- using extend in getResolvedDependencies and getUnresolvedDependencies,
	  getPkgDependencies is returning a list already

	* pyrpm/resolver.py 1.42: [tw] fixed initializing bug

	* pyrpm/orderer.py 1.13:
	[tw] last version of the old orderer, there will be a new version soon
	- removed clock calls
	- speedup in order Rpms: remove all post leaf nodes and append them in
	  reverse order to the result

	* pyrpm/resolver.py 1.41: [tw]
	- dropped lost_provides and lost_filenames, using installed_unresolved
	  instead to determine if an symbold was unresolved in the system before
	  removed searchLostDependency
	- added flags rpmconfig.noconflictcheck and rpmconfig.nofileconflictcheck

	* pyrpm/rpmlist.py 1.21: [tw]
	- new flag exactarch to prevent updates of buildarchtranslate compatible
	  packages with another arch

	* pyrpm/config.py 1.17: [tw]
	- new flags to disable the conflict check and file conflict check in
	  RpmResolver::resolve
	- new flag exactarch to prevent updates of buildarchtranslate compatible
	  packages with another arch

2005-03-28  Florian La Roche  <laroche@redhat.com>

	* pyrpm/config.py 1.16: - actually delete rpmconfig.operation

	* tests/test10 1.3, pyrpm/resolver.py 1.40, scripts/pyrpminstall 1.13, scripts/pyrpmyum 1.14:
	- pyrpm/resolver.py:
	  - trim for speed
	  - we should keep rpms in a hash, not in lists
	- remove rpmconfig.operation, move into pyrpm{install,yum}

2005-03-27  Florian La Roche  <laroche@redhat.com>

	* scripts/pyrpmyum 1.13: - scripts/pyrpmyum:
	  - output timer stats for "--test" for now
	  - delay setting up "opresolver"
	  - fix specifying single *.rpm files
	  - add specifying directories in addition to files

	* pyrpm/functions.py 1.52, pyrpm/io.py 1.29, pyrpm/package.py 1.40, pyrpm/resolver.py 1.39, scripts/pyrpminstall 1.12, scripts/pyrpmyum 1.12, pyrpm/config.py 1.15, pyrpm/control.py 1.34:
	- pyrpm/config.py:
	  - add ignore_epoch (dummy, might get used for older releases)
	  - add fileconflicts to enable/disable checking of fileconflicts
	  - add operation
	  - remove checkdiskspace, ignoresize is already available
	- pyrpm/io.py:
	  - *.getPkgList() always returns a list now
	- pyrpm/functions.py:
	  - pkgCompare: use getEpoch()
	  - filterrchDuplicate: can also use pkgCompare
	- pyrpm/package.py: also add a provide for "name = evr"
	- pyrpm/resolver.py: look at rpmconfig.fileconflicts
	- scripts/pyrpmyum:
	  - use version from pyrpm/__init__.py:__version__
	  - no need to call normalizeList()

2005-03-26  Florian La Roche  <laroche@redhat.com>

	* configure.in 1.8, pyrpm/__init__.py 1.11: - release 0.14

	* pyrpm/functions.py 1.51, pyrpm/resolver.py 1.38:
	- pyrpm/functions.py and pyrpm/resolver.py: make resolver a bit faster
	  (at least for my test case)

	* pyrpm/createrepo.py 1.3, scripts/pyrpmcreaterepo 1.3:
	- createrepo cleanup

	* pyrpm/config.py 1.14: - pyrpm/config.py: add rpmconfig.checkdiskspace

	* pyrpm/control.py 1.33, pyrpm/functions.py 1.50, scripts/pyrpmcreaterepo 1.2, scripts/pyrpminstall 1.11, scripts/pyrpmspecinfo 1.5:
	- add clock() checks for reading in data
	- add rpmconfig.checkdiskspace
	- pyrpm/functions.py:getFreeDiskspace(): 2.5 times faster, less stat() calls
	  and use the blocksize to calculate disk usage

2005-03-25  Florian La Roche  <laroche@redhat.com>

	* pyrpm/package.py 1.39: - pyrpm/package.py: RpmUserCache():
	  - move root user as special case into into __init__
	  - mark places to warn about non-existing users
	  - "return 0" if also passwd/group are missing

	* configure.in 1.7, pyrpm/__init__.py 1.10, pyrpm/base.py 1.23, pyrpm/config.py 1.13, pyrpm/control.py 1.32, pyrpm/createrepo.py 1.2, pyrpm/functions.py 1.49, pyrpm/hashlist.py 1.12, pyrpm/io.py 1.28, pyrpm/orderer.py 1.12, pyrpm/package.py 1.38, pyrpm/resolver.py 1.37, pyrpm/rpmdist.py 1.5, pyrpm/rpmlist.py 1.20, pyrpm/specfile.py 1.4, pyrpm/yumconfig.py 1.8, scripts/pyrpmyum 1.11, scripts/rpmdb2pyrpmdb 1.4, tests/test10 1.2:
	- release 0.13
	- remove space at end of lines
	- replace tabs with spaces
	- do not use "list", "hash", "vars" as names to make pychecker happy
	- pyrpm/control.py: RpmController(): no need to check against possible_archs
	- pyrpm/functions.py: runScript(): remove instead of adding a
	  '\n' at the end of an error message
	- pyrpm/functions.py: getFreeDiskspace(): do not look at filesizes for
	  non-regular files and use a 4096 blocksize to calculate diskspace
	- pyrpm/functions.py: filterArchCompat():
	  - no need to call this if no arch is specified
	  - rework it to not depend on arch_compats that much
	- pyrpm/orderer.py: RpmOrderer():
	  - go back to last working version without "last[]"
	- pyrpm/resolver.py: RpmResolver():
	  - getConflicts() change return value to reduce checks
	  - comment out some checks that give tracebacks, this needs
	    more investigation
	- pyrpm/rpmlist.py: RpmList():
	  - setup __len__() in __init__()
	- pyrpm/yumconfig.py: use xrange() instead of range()
	- scripts/pyrpmyum: improve info output
	- tests/test10: chroot setups for many releases to test pyrpmyum

2005-03-24  Florian La Roche  <laroche@redhat.com>

	* pyrpm/functions.py 1.48, tests/.cvsignore 1.2:
	- pyrpm/functions.py: deal better with filedescrptors during fork()

	* configure.in 1.6, pyrpm/__init__.py 1.9: - release 0.12

2005-03-23  Harald Hoyer  <harald@redhat.com>

	* scripts/pyrpminstall 1.10, tests/rpmresolve.py 1.6:
	added hotshot profiling

	* pyrpm/orderer.py 1.11: faster _Relations

2005-03-23  Miloslav Trmac  <mitr@redhat.com>

	* scripts/Makefile.am 1.5: * scripts/Makefile.am: add pyrpmcreaterepo

	* pyrpm/createrepo.py 1.1, scripts/pyrpmcreaterepo 1.1:
	* pyrpm/createrepo.py: New file (creating xml subtrees from RpmPackage)
	* scripts/pyrpmcreaterepo: New file (top-level metadata creation and CLI)

2005-03-23  Harald Hoyer  <harald@redhat.com>

	* pyrpm/hashlist.py 1.11:
	implemented __contains__, which is faster than a complete __getitem__

	* pyrpm/package.py 1.37: added __repr__ to FastRpmData

	* pyrpm/hashlist.py 1.10: 10% performance gain added

	* pyrpm/package.py 1.36:
	replaced RpmData with FastRpmData (overall performance gain 25%!!!)

2005-03-23  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/orderer.py 1.10: [tw] - speedup in orderRpms
	- remove and save all packages without a post relation in reverse order
	  these packages will be appended later to the list

	* tests/rpmresolve.py 1.5: [tw] removed unneded print

	* tests/rpmresolve.py 1.4: [tw] OP_* moved to base

2005-03-22  Harald Hoyer  <harald@redhat.com>

	* tests/functionstest 1.3: typo

	* pyrpm/orderer.py 1.9: small optimizations

	* tests/yumconfigtest 1.3: changed reposdir dynamically

	* pyrpm/functions.py 1.47: shorter constructName()

	* tests/functionstest 1.2:
	added functions.constructName() and function.envraSplit() test

	* pyrpm/functions.py 1.46: speedup regexp handling

	* tests/Makefile.am 1.3, tests/functionstest 1.1: functionstest added

	* tests/yumconfigtest 1.2: use assertEqual()

	* pyrpm/functions.py 1.45: removed debug msgs

	* pyrpm/functions.py 1.44: merge try-except's

	* tests/Makefile.am 1.2, tests/coverage.py 1.1:
	added coverage.py for testsuite coverage reports

	* ChangeLog 1.9, Makefile.am 1.13, configure.in 1.5, tests/Makefile.am 1.1, tests/yum-test.tgz 1.1, tests/yumconfigtest 1.1:
	added yumconfigtest test suite

	* pyrpm/yumconfig.py 1.7: removed rhpl dep

	* pyrpm/control.py 1.31, pyrpm/functions.py 1.43, pyrpm/io.py 1.27:
	better fd closing (close-on-exec)

	* Makefile.am 1.12: more CLEANFILES

	* scripts/Makefile.am 1.4: change path on install

	* pyrpm/package.py 1.35:
	compute the md5 sum by reading the file in 64k blocks, not as a whole

	* pyrpm/io.py 1.26: set CLOSE-ON-EXEC

	* pyrpm/functions.py 1.42: typo

	* pyrpm/functions.py 1.41: create /var/tmp with the correct permission

2005-03-21  Harald Hoyer  <harald@redhat.com>

	* pyrpm/yumconfig.py 1.6: do not throw exceptions while parsing

	* pyrpm/yumconfig.py 1.4: do not parse repodir, if repodir is empty

	* pyrpm/yumconfig.py 1.3: added filename to constructor

	* pyrpm/yumconfig.py 1.2:
	renamed all possible methods to naming convention

2005-03-21  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.36: [tw]
	- checked new package instead of old package in _pkgUpdate
	  (self.isInstalled test)

	* pyrpm/resolver.py 1.35:
	[tw] only add update-packages to updates if the update_package was installed

	* pyrpm/resolver.py 1.34:
	[tw] fixed bug in check_installed test in getPkgDependencies

	* tests/rpmresolve.py 1.3: [tw] steps to reduce memory usage:
	- only load necessary tags
	- 1) only load "name", "epoch", "version", "release" and "arch",
	  run filterArchList
	- 2) reload filtered list
	- 3) create resolver
	- 4) append packages, drop unneeded
	- 5) resolve

	* pyrpm/rpmlist.py 1.19:
	[tw] added imports for OP_* which are now in base

	* pyrpm/package.py 1.34:
	[tw] moved "from io import getRpmIOFactory" into RpmPackage::open

	* pyrpm/resolver.py 1.33: [tw]
	- using external RpmList again
	- check_installed is global for RpmResolver
	- added lost provides and filenames (for updates or ersed packages) to decide
	  if an unresolved symbol was unresolved before changes are made. These
	  old unresolved deps are only reported if check_installed is set to on.
	- check_installed affects the getPkgDependencies, checkDependencies,
	  getConflicts and getFileConflicts.

	* pyrpm/rpmlist.py 1.18: [tw] readded rpmlist

	* pyrpm/package.py 1.33: [tw] using "from io import *" again

	* pyrpm/hashlist.py 1.9: [tw] added function keys()

	* pyrpm/functions.py 1.40: [tw]
	- readded pkgCompare
	- renamed h to hash in nomalizeList

2005-03-21  Harald Hoyer  <harald@redhat.com>

	* pyrpm/yumconfig.py 1.1: simple yum config file parser

2005-03-20  Florian La Roche  <laroche@redhat.com>

	* configure.in 1.4, pyrpm/__init__.py 1.8: - new release

	* tests/test10 1.1: - add some sample test script

	* pyrpm/hashlist.py 1.8, pyrpm/package.py 1.32:
	- pyrpm/hashlist.py: remove keys(), not used
	- pyrpm/package.py: change import

	* pyrpm/functions.py 1.39: - pyrpm/functions.py: cleanup

	* pyrpm/base.py 1.22, pyrpm/control.py 1.30, pyrpm/orderer.py 1.8, pyrpm/resolver.py 1.32, pyrpm/rpmlist.py 1.17, scripts/pyrpminstall 1.9, scripts/pyrpmyum 1.10:
	- pyrpm/base.py: add OP_INSTALL OP_UPDATE OP_ERASE OP_FRESHEN
	- pyrpm/resolver.py: move rpmlist.py in here
	- pyrpm/resolver.py: obsoletes/updates/erased can go into normal hash

	* pyrpm/config.py 1.12, pyrpm/control.py 1.29, pyrpm/package.py 1.31, pyrpm/resolver.py 1.31, scripts/pyrpminstall 1.8, scripts/pyrpmyum 1.9:
	- rename rpmconfig.hash -> rpmconfig.printhash

	* pyrpm/base.py 1.21, pyrpm/control.py 1.28, pyrpm/functions.py 1.38:
	- base.py: add "noarch" to arch_compats
	- control.py: don't give an error if no updates need to be done
	- functions.py: update warning level for updating packages

2005-03-19  Florian La Roche  <laroche@redhat.com>

	* pyrpm/base.py 1.20, pyrpm/functions.py 1.37:
	- only set a very reduced set of environment vars for scripts
	- add more docu for base.py
	- make sure also args for scripts are all handeled (STRING_ARRAY)

2005-03-18  Florian La Roche  <laroche@redhat.com>

	* configure.in 1.3, pyrpm/__init__.py 1.7, pyrpm/config.py 1.11, pyrpm/functions.py 1.36, pyrpm/io.py 1.25:
	- go down to a sane version number of 0.10
	- functions.py: remove obsolete string functions
	- io.py: remove pychecker warnings

2005-03-18  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/config.py 1.10, pyrpm/control.py 1.27, pyrpm/functions.py 1.35, pyrpm/io.py 1.24, pyrpm/package.py 1.30, scripts/pyrpmyum 1.8:
	- Extended RpmPyDB to allow memory only add and erase of packages (needed in
	  parent process after child exits to update the internal DB)
	- Some code cleanup in RpmController::run()
	- Added parseBoolean() function in functions (needed for comps.xml parsing)
	- Fixed the normalizeRegex() function to escape all special chars now
	- Completely implemented RpmCompsXMLIO class with method to get package names
	  for a give group id
	- Dropped non-working test code in io.py
	- RpmPackage::erase() now can print hashes, too correctly. ;)
	- Dropped some unsecessary code
	- Restructured the inner loop of RpmPackage::__extract() to only do 1 "in"
	  operation
	- Fixed bug where if a file wasn't installed it might have still been in the
	  hardlinks list
	- Implemented 64/32bit file installation. 64bit is always preferred
	- Extended and fixed pyrpmyum to now have a very similar cli to the
	  original yum
	- Extended pyrpmyum to support groupinstalls via a comps.xml file
	- Don't exit if a package can't be found during package search in pyrpmyum

2005-03-18  Florian La Roche  <laroche@redhat.com>

	* pyrpm/functions.py 1.34: - also remove pkgCompare()

	* pyrpm/control.py 1.26, pyrpm/functions.py 1.33, pyrpm/package.py 1.29, pyrpm/resolver.py 1.30, scripts/pyrpminstall 1.7, scripts/pyrpmyum 1.7:
	- implement getEpoch() and start using it

2005-03-17  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/io.py 1.23, pyrpm/package.py 1.28:
	- pyrpm/io.py: return (next part offset, next part length) as value of "-" tags
	- pyrpm/package.py: store file offset ranges of package parts

2005-03-17  Florian La Roche  <laroche@redhat.com>

	* doc/.cvsignore 1.2, scripts/.cvsignore 1.2, .cvsignore 1.5:
	- ignore some more autogenerated files for cvs

	* scripts/pyrpminstall 1.6: - enable timer with "--test" for now

	* pyrpm/functions.py 1.32: - change to evrSplit() was an oversight

	* pyrpm/config.py 1.9, pyrpm/control.py 1.25, pyrpm/functions.py 1.31, pyrpm/hashlist.py 1.7, pyrpm/io.py 1.22, pyrpm/orderer.py 1.7, pyrpm/package.py 1.27, pyrpm/resolver.py 1.29, pyrpm/rpmdist.py 1.4, pyrpm/specfile.py 1.3, scripts/pyrpminstall 1.5:
	- pyrpm/config.py: temporarely add a "timer" config option that does give some
	  additional information about elapsed time for resolver/orderer.
	  Will go away soon again.
	- pyrpm/control.py: check for rpmconfig.test and exit after resolver/orderer
	- pyrpm/{functions.py,io.py,package.py,rpmdist.py,specfile.py):
	  do not import obsolete string functions
	- pyrpm/functions.py: evrString() and allow evrCompare() to take a tuple as
	  first arg

2005-03-16  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.24, pyrpm/functions.py 1.30, pyrpm/package.py 1.26, pyrpm/rpmlist.py 1.16, scripts/pyrpmyum 1.6:
	- Made # of packages to be installed per fork a variable
	- Fixed setFileMods() behaviour (return values are quite useless, unfortunately)
	- Fixed problem with RpmUserCache class. If no glibc was installed the
	  getpwnam() and getgrnam() calls would fail even if the user/group was in the
	  corresponding /etc files
	- Moved __generateFileInfoList() and __generateHardLinkList() back to
	  __extract(), the pre-Scrip needs to be run bevor generating those lists...
	- Got rid of one self.rfilist.has_key(filename) in __extract() (speedup)
	- Marked the filecolor section in __verifyInstallFile() which needs to be
	  implemented correctly for multilib
	- Switched key type for hardlink hash from strings to integers
	- Together with Thomas fixed a bug in the resolver where a packages would get
	  added multiple times

2005-03-16  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/rpmlist.py 1.15: [tw] added lost already added check

2005-03-16  Karel Zak  <kzak@redhat.com>

	* scripts/rpmtest/sample-test.conf 1.2, scripts/rpmtest/test_permissions.py 1.1, scripts/rpmtest/page_header.html 1.2:
	- add permissions conflicts test

2005-03-16  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.23, pyrpm/functions.py 1.29, pyrpm/package.py 1.25, pyrpm/resolver.py 1.28, pyrpm/rpmlist.py 1.14, scripts/pyrpmyum 1.5:
	- Switched to RpmController::run() to latest RpmOrderer behaviour
	- Moved listRpmDir() to files stuff in functions.py
	- Implemented getFreeDiskspace()
	- Fixed bug in envraSplit() functions
	- Set warning level for "pkg was already added" to 1 (much less nosiy)
	- Implemented new version of findPkgByName(), now can do regex, too
	- Moved generation of RpmFileInfo list and HardLink list to install() method
	  from __extract()
	- Dropped some debug print statements
	- Fixed too strict check in resolver which prevented detection of some deps
	- Fixed pyrpmyum for update case where an already installed package needs to
	  be updated because of an update of a given package on the command line
	- Rewrote the package selection in pyrpmyum to use the new findPkgByName()
	  function

2005-03-15  Florian La Roche  <laroche@redhat.com>

	* pyrpm/base.py 1.19: - base.py: fix "," in list

	* pyrpm/base.py 1.18: - docu for flags

2005-03-15  Karel Zak  <kzak@redhat.com>

	* scripts/rpmtest/dist_footer.html 1.1, scripts/rpmtest/dist_header.html 1.1, scripts/rpmtest/page_footer.html 1.1, scripts/rpmtest/page_header.html 1.1, scripts/rpmtest/rpmtest.py 1.2, scripts/rpmtest/sample-fc4.conf 1.1, scripts/rpmtest/sample-test.conf 1.1, scripts/rpmtest/test_conflicts.py 1.2, scripts/rpmtest/test_unresolved.py 1.2:
	- rpmtest: add html support

2005-03-15  Florian La Roche  <laroche@redhat.com>

	* pyrpm/io.py 1.21: - more docu for cpio

	* pyrpm/functions.py 1.28: - functions.py: 80 char line limit

	* pyrpm/cpio.py 1.11, pyrpm/io.py 1.20:
	- reduce cpio to way smaller code to only satisfy minimum pyrpm requirements
	- move cpio.py code into io.py

2005-03-15  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/orderer.py 1.6: [tw]
	- The orderer is honoring updates and obsoletes internally: Extended contructor
	- Fixed usage of orderer in genOperations
	- Added new orderer for updates

2005-03-15  Florian La Roche  <laroche@redhat.com>

	* pyrpm/functions.py 1.27, pyrpm/io.py 1.19:
	- do not import cpio anymore in functions.py, only in io.py

	* pyrpm/cpio.py 1.10, pyrpm/functions.py 1.26, pyrpm/package.py 1.24, pyrpm/resolver.py 1.27:
	- cpio.py, functions.py, package.py, resolver.py: use functions from stat.py
	  instead of writing our owns

	* pyrpm/base.py 1.17, tests/rpmmulti.py 1.2, tests/rpmresolve.py 1.2:
	- cleanup

	* pyrpm/base.py 1.16, pyrpm/control.py 1.22, pyrpm/cpio.py 1.9, pyrpm/functions.py 1.25:
	- base.py: improve docu
	- base.py, control.py, functions.py: possible_archs[] is now a hash
	- cpio.py: try running without calling os.normpath()

	* pyrpm/base.py 1.15: - remove spurious ","
	- docu cleanup

2005-03-14  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/functions.py 1.24, pyrpm/package.py 1.23: * pyrpm/functions.py:
	- read scriptlet output before waiting for its exit
	- chdir('/') before running a scriptlet
	- use a standard PATH for running scriptlets
	- exit(255) if scriptlet can't be run
	* pyrpm/package.py:
	- fix removing directories

	* tests/.cvsignore 1.1, scripts/rpmtest/.cvsignore 1.1:
	Add .cvsignore files

2005-03-14  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.21, pyrpm/functions.py 1.23, pyrpm/io.py 1.18, pyrpm/package.py 1.22, pyrpm/resolver.py 1.26:
	- Fix output for various combinations of -v and -h
	- Closing now all filedescriptors bevor execv() in runScript()
	- Using pipe() now to deliver script output to the parent
	- Fixed missing close() in addPkg() in RpmPyDB class
	- Fixed output of .rpmsave and .rpmnew (0-Level warnings instead of debug)
	- Fixed typo in resolver (md5 instead of md5sum)

2005-03-14  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/hashlist.py 1.6: [tw] added keys function

	* pyrpm/resolver.py 1.25: [tw] iserted space for lists and hashes again

	* pyrpm/resolver.py 1.24:
	[tw] renamed append and remove functions in ProvidesList and FilenamesList
	  to _append and _remove

2005-03-14  Miloslav Trmac  <mitr@redhat.com>

	* pyrpm/rpmdist.py 1.3: - Fix typos in API while we can

	* pyrpm/orderer.py 1.5, pyrpm/resolver.py 1.23:
	- When searching for the best node for breaking a loop, don't require
	  an impossible condition
	- Fix docstring

	* doc/TODO 1.2, pyrpm/base.py 1.14: - document what is %sourcepkgid

2005-03-12  Florian La Roche  <laroche@redhat.com>

	* pyrpm/cpio.py 1.8, pyrpm/io.py 1.17: - make RpmIO:read() consistent

	* Makefile.am 1.11, doc/Makefile.am 1.3, pyrpm.spec.in 1.7, scripts/pyrpmdb2rpmdb 1.2, scripts/pyrpminstall 1.4, scripts/pyrpmspecinfo 1.4, scripts/pyrpmyum 1.4, scripts/rpmdb2pyrpmdb 1.3:
	- remove "changelog" target for "make build"
	- package docu files from the specfile and do not install them
	  via "make install"
	- set PYRPMDIR to ".." so invoking scripts directly from cvs works
	- scripts/rpmdb2pyrpmdb: pyrpmlib -> pyrpm
	- scripts/rpmdb2pyrpmdb: start to go away from hardcoded paths
	- scripts/rpmdb2pyrpmdb: do not print successfull header conversions

	* doc/.cvsignore 1.1, scripts/.cvsignore 1.1, .cvsignore 1.4:
	- new .cvsignore files

	* .cvsignore 1.3, Makefile.am 1.10:
	- remove pyrpmlib.py from Makefile.am
	- build source and binary packages

	* build.sh 1.4: - add "-c" option to automake to copy missing files

	* ChangeLog 1.8, FILES 1.5, INFO 1.2, Makefile.am 1.9, TODO 1.12, doc/FILES 1.1, doc/INFO 1.1, doc/Makefile.am 1.2, doc/TODO 1.1, pyrpm/io.py 1.16, pyrpm/package.py 1.21:
	- move INFO TODO FILES into doc subdir
	- legacy -> strict renaming

	* ChangeLog 1.7, doc/pycheckrc 1.1, pyrpm/__init__.py 1.6, pyrpm/functions.py 1.22, pyrpm/io.py 1.15, pyrpm/orderer.py 1.4, pyrpm/package.py 1.20, pyrpm/resolver.py 1.22, pyrpm/rpmdist.py 1.2, pyrpm/rpmlist.py 1.13:
	- cleanup of import, pycheckrc

	* ChangeLog 1.6, pyrpm/__init__.py 1.5, pyrpm/base.py 1.13, pyrpm/control.py 1.20, pyrpm/functions.py 1.21, pyrpm/hashlist.py 1.5, pyrpm/io.py 1.14, pyrpm/orderer.py 1.3, pyrpm/package.py 1.19, pyrpm/resolver.py 1.21, pyrpm/rpmlist.py 1.12:
	- see ChangeLog

	* ChangeLog 1.5, pyrpm/control.py 1.19, pyrpm/functions.py 1.20, pyrpm/orderer.py 1.2:
	- further cleanup

	* AUTHORS 1.4, ChangeLog 1.4, pyrpm/base.py 1.12, pyrpm/functions.py 1.19, pyrpm/package.py 1.18, pyrpm/resolver.py 1.20, pyrpm/rpmlist.py 1.11:
	- see Changelog

	* ChangeLog 1.3, pyrpm/base.py 1.11, pyrpm/config.py 1.8, pyrpm/cpio.py 1.7, pyrpm/functions.py 1.18, pyrpm/hashlist.py 1.4, pyrpm/package.py 1.17, pyrpm/resolver.py 1.19, pyrpm/specfile.py 1.2:
	2005-03-12  Florian La Roche  <laroche@redhat.com>

	        * pyrpm/base.py:
	        - do not import config.py
	        - limit linesize to 80
	        - remove suggestions for possible binary rpm package changes
	        - a bit more descriptions
	        - add "del key" to remove temp variables
	        - clean up possible_archs for FC development tree only
	        * pyrpm/config.py:
	        - limit linesize to 80
	        * pyrpm/cpio.py:
	        - add CP_ISDIR, CP_ISLNK, CP_ISREG. They should probably disappear
	          again via "import stat" at proper places if there is no special
	          reason to keep our own set of macros. "grep CP_ *.py"...
	        - pyrpm/package.py: - use CP_ISREG
	        - pyrpm/resolver.py: - use CP_IS*
	        - pyrpm/specfile.py: - do not "import sys"

2005-03-11  Philip Knirsch  <pknirsch@redhat.com>

	* AUTHORS 1.3, FILES 1.4, pyrpm/base.py 1.10, pyrpm/config.py 1.7, pyrpm/control.py 1.18, pyrpm/functions.py 1.17, pyrpm/io.py 1.13, pyrpm/package.py 1.16, scripts/pyrpmyum 1.3, tests/test7 1.2:
	- Added my email address to authors ;)
	- Updated FILES
	- Extended RpmFileInfo to contain filecolor, too (needed for mulitlib)
	- Added resolvertags to rpmconfig as we need it in quite a few places
	- Don't sys.exit(0) the RpmController.run() if there is nothing to do.
	- Close open packages in RpmController.run() after child returns
	- Fixed wrong indented return in RpmController.run()
	- Extended findPkgByName() to return list of all matching packages
	- Small dataflow fix in __readDB() of RpmController
	- Do correct package filtering depending on the operation
	- Wrong/unknown archs aren't a hard error anymore, needs to be handled correctly
	  though
	- Split up filterArchList() into 2 functions for correct filtering
	- Don't write out /var/lib/pyrpm/filenames anymore, obsolete
	- RpmPackage.getRpmFileInfo() now checkes if each header tag exists and uses
	  None if the header is not available
	- Made the runDepResolution() a real function in pyrpmyum
	- Fixed install/update/freshen logic in pyrpmyum to behave just like yum (with
	  the exepction of kernel for now, but that will be fixed soon)
	- Allow either packages of a repo or real files to be installed with pyrpmyum

2005-03-11  Karel Zak  <kzak@redhat.com>

	* scripts/rpmtest/rpmtest.py 1.1, scripts/rpmtest/sample-fc3.conf 1.1, scripts/rpmtest/test_conflicts.py 1.1, scripts/rpmtest/test_unresolved.py 1.1:
	- added rpmtest stuff

	* FILES 1.3, pyrpm/functions.py 1.16, pyrpm/rpmdist.py 1.1:
	- added rpmdist

2005-03-11  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.18: [tw]
	- new ckeck_installed tag for checkDependencies, getResolvedDependencies and
	  getUnresolvedDependencies

2005-03-11  Philip Knirsch  <pknirsch@redhat.com>

	* ChangeLog 1.2, pyrpmlib.py 1.25:
	- Drop pyrpmlib.py, now that we have a real package

2005-03-11  Karel Zak  <kzak@redhat.com>

	* pyrpm/functions.py 1.15: -fixed filterArchList()

2005-03-10  Philip Knirsch  <pknirsch@redhat.com>

	* scripts/pyrpmyum 1.2: - Added path stuff to pyrpmyum

	* pyrpm/control.py 1.17, pyrpm/functions.py 1.14, scripts/Makefile.am 1.3, scripts/pyrpminstall 1.3, scripts/pyrpmyum 1.1:
	- Consolidated several methods in RpmController in one method (handlePkgs)
	- Modified some method names in RpmController to reflect their behaviour
	- Moved the whole find package by name code in eraseFile() to a separate
	  external function as we need it in other places now, too
	- Fixed bug in normalizeList() function
	- Code cleanup in pyrpminstall
	- Added first version of pyrpmyum yum replacement

2005-03-10  Harald Hoyer  <harald@redhat.com>

	* Makefile.am 1.8: added changelog generation

	* pyrpm.spec.in 1.6: DESTDIR is much bettercvs diff -u |less

	* pyrpm/Makefile.am 1.2, pyrpm/base.py 1.9, pyrpm/config.py 1.6, pyrpm/control.py 1.16, pyrpm/cpio.py 1.6, pyrpm/functions.py 1.13, pyrpm/hashlist.py 1.3, pyrpm/io.py 1.12, pyrpm/package.py 1.15, pyrpm/resolver.py 1.17, pyrpm/rpmlist.py 1.10:
	fixed copyright date

	* pyrpm/__init__.py 1.4: import all __init__.py copied

	* scripts/Makefile.am 1.2, scripts/pyrpminstall 1.2, scripts/pyrpmspecinfo 1.3, scripts/rpmdb2pyrpmdb 1.2:
	fixed module import path

	* pyrpm.spec.in 1.5: noarch

	* .cvsignore 1.2, AUTHORS 1.2, Makefile.am 1.7, build.sh 1.3, configure.in 1.2, doc/Makefile.am 1.1, pyrpm.spec.in 1.4, pyrpm/.cvsignore 1.2, pyrpm/Makefile.am 1.1, scripts/Makefile.am 1.1:
	autofoo cleanup

	* scripts/pyrpmspecinfo 1.2: fixed interpreter

2005-03-10  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.16: [tw]
	- fixed a typo which prevented file conflict checks in getFileConflicts
	- integrated NEVR and buildarchtranslate checks in getFileConflicts

2005-03-10  Harald Hoyer  <harald@redhat.com>

	* scripts/pyrpmspecinfo 1.1, pyrpm/specfile.py 1.1: initial check in

2005-03-10  Philip Knirsch  <pknirsch@redhat.com>

	* Makefile.am 1.6: - Fixed tar creation to exclude all CVS dirs.

	* Makefile.am 1.5, pyrpm.spec.in 1.3, pyrpm/base.py 1.8, pyrpm/io.py 1.11:
	- Removed all RPMTAG and RPMSIGTAG references from base and the very few places
	  they were used outside of base
	- Tiny fixes to specfile and Makefile.am

2005-03-10  Paul Nasrat  <pnasrat@redhat.com>

	* Makefile.am 1.4, build.sh 1.2:
	Fix build script and tar up scripts dir

2005-03-10  Thomas Woerner  <twoerner@redhat.com>

	* scripts/rpmresolve 1.2, tests/resolve.sh 1.1, tests/resolve1.sh 1.1, tests/resolve2.sh 1.1, tests/resolve3.sh 1.1, tests/resolve4.sh 1.1, tests/rpmmulti.py 1.1, tests/rpmresolve.py 1.1:
	[tw] moved test scripts to tests/

2005-03-10  Philip Knirsch  <pknirsch@redhat.com>

	* Makefile.am 1.3: - Install scripts from scripts/ ;)

	* Makefile.am 1.2, classes.fig 1.3, depresolver.py 1.3, doc/classes.fig 1.1, hashlist.py 1.2, pyrpm.py 1.33, pyrpm.spec.in 1.2, pyrpmdb2rpmdb 1.2, pyrpmdeps 1.2, pyrpminstall 1.2, rpmdeps 1.10, rpmresolve 1.3, rpmresolve.py 1.3, scripts/pyrpmdb2rpmdb 1.1, scripts/pyrpminstall 1.1, scripts/rpmdb2pyrpmdb 1.1, scripts/rpmresolve 1.1, test 1.3, test2 1.7, test3 1.6, test3new 1.2, test4 1.3, test5 1.4, test6 1.3, test7 1.5, test8 1.2, test9 1.3, tests/rpmdbtestBasenames 1.1, tests/rpmdbtestConflictname 1.1, tests/rpmdbtestDirnames 1.1, tests/rpmdbtestFilemd5s 1.1, tests/rpmdbtestInstallid 1.1, tests/rpmdbtestPackages 1.1, tests/rpmdbtestSha1header 1.1, tests/rpmdbtestSigmd5 1.1, tests/rpmdbtestTriggername 1.1, tests/rpmdbtestbtree 1.1, tests/rpmdbtesthash 1.1, tests/test 1.1, tests/test2 1.1, tests/test3 1.1, tests/test3new 1.1, tests/test4 1.1, tests/test5 1.1, tests/test6 1.1, tests/test7 1.1, tests/test8 1.1, tests/test9 1.1:
	- Major structure cleanup and removal of old cruft

2005-03-09  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.15, pyrpm/resolver.py 1.15:
	- Fixed bug where erasePkg() still used self.erase instead of self.rpms
	- Fixed bug in resolver with _pkgErase() missing self argument
	- Fixed bug in printDebug() call with wrong argument

	* pyrpm/control.py 1.14, pyrpm/functions.py 1.12:
	- Fixed pyrpm. foo stuff in functions
	- Switched RpmController to new RpmResolver and RpmOrderer classes

	* pyrpm/control.py 1.13, pyrpm/package.py 1.14, AUTHORS 1.1, ChangeLog 1.1, Makefile.am 1.1, NEWS 1.1, TODO 1.11, build.sh 1.1, configure.in 1.1, pyrpm.spec.in 1.1, pyrpminstall 1.1, test7 1.4:
	- First cut of rpm package stuff (specfile, autofoo etc)
	- Typo in RpmController with Trigger class (it's private now ;)
	- Moved machine arch check directly to preprocess in RpmController
	- Only print hashes if the user wants them (honor rpmconfig.hash option)

2005-03-09  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/control.py 1.12:
	[tw] renames add_pkg and remove_pkg to addPkg and removePkg

	* rpmresolve.py 1.2: [tw] using the new resolver and orderer classes

	* pyrpm/functions.py 1.11: [tw]
	- new function filterArchList for filtering a list of packages per
	  architecture and version
	- integrated functions of the old resolver and rpmlist class:
	  - depOperatorString
	  - depString
	  - normalizeList

	* pyrpm/__init__.py 1.3: [tw] added orderer

	* pyrpm/resolver.py 1.14, pyrpm/rpmlist.py 1.9: [tw]
	- rpmlist is a simple rpmlist, now
	- all dependency, obsoletes and conflicts stuff went to rpmresolver

2005-03-09  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/config.py 1.5: - Update with new parameters

2005-03-09  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/orderer.py 1.1:
	[tw] order now has it's own class and is independent of rpmlist and the resolver

2005-03-08  Philip Knirsch  <pknirsch@redhat.com>

	* FILES 1.2, README 1.5, TODO 1.10, pyrpm/config.py 1.4, pyrpm/control.py 1.11, pyrpm/io.py 1.10, pyrpm/package.py 1.13, test7 1.3:
	- Updated FILES documentation
	- Minor updates to README, needs more TLC
	- Put some todos in TODO
	- test7 now reads everything (including cpio archive if available)
	- Extended RpmConfig to contain os.uname() information
	- Implemented Triggers class for trigger lookups. Based on Provides from Thomas
	- Readded buildroot to RpmController as we need it for chroots again
	- Completely implemented Triggersupport in RpmController
	- Do blockforks during install. Speeds up install by a factor of 2
	- Read headers twice. Once for RpmResolver with limited headers, second time for
	  install with every header
	- Dropped os.uname() call from RpmController, use rpmconfig
	- Fixed RpmDB class to finally manage to read in /var/lib/rpm so that the saved
	  headers can be reread by rpm again
	- Corrected the args for the runScript() calls to really reflect the # of
	  packages (source and target)
	- Fixed a small problem of RpmUserCache class with not found uid/gids
	- Don't close an RpmPackage after read() anymore
	- Make generateFilenames() public again in RpmPackage class
	- Correctly implement hash marks during install
	- If we have "oldfilenames" use them, otherwise use basename/dirname combo
	- Add getEVR() method to RpmPackage
	- Rewrote getDeps() in RpmPackage and change all methods that rely on it

2005-03-02  Florian La Roche  <laroche@redhat.com>

	* pyrpm/cpio.py 1.5: - cleanup

2005-03-02  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.7: - Added noarch for buildarchtranslate

	* pyrpm/control.py 1.10, pyrpm/cpio.py 1.4, pyrpm/functions.py 1.10, pyrpm/io.py 1.9, pyrpm/package.py 1.12, pyrpmdb2rpmdb 1.1, test10 1.2, test7 1.2, test9 1.2:
	- Added pyrpmdb2rpmdb tool to convert our database to a rpm database
	- Modified test9 install testapp to support profiling
	- Use RpmResolver operation definitions for operations
	- Finished the freshenPkgs() method in RpmController to select and filter the
	  right packages
	- Delete unused variables, especially larger ones (large lists etc)
	- Remove duplicate operations from operations list. Might happen due to updates
	  and concurrent obsoletes
	- Some more code cleanup in RpmController
	- For updates always select the newest package given
	- Massively clean up the CPIO class and remove unused code
	- Fix runScript() to behave exactly like rpm
	- Set file mods on already installed directories, too (like rpm does)
	- Use os.lchown() for symlinks, otherwise the targe will be chowned :)
	- Fix my pkgCompare() functions to convert epochs always to strings
	- Dropped the skipsig parameter in the RpmStreamIO classes
	- Added an optional parameter to read() for RpmStreamIO to skip the parsing of
	  the complete header and move directly to the cpio archive
	- Optimized the generateTag() method, one of our most time consuming methods
	- Implemented the RpmDB class very similar to our RpmPyDB class
	- Dropped the "filenames" from RpmPyDB as we can generate that list faster
	  internally and saving it takes ages
	- Implemented the RpmUserCache class and use it per package for installation,
	  safes about 10 Minutes for a complete FC3 install
	- Modified RpmPackage to actually only read a rpm header once and otherwise
	  always skip parsing it
	- If a post script fails we don't abort the operation anymore just print the
	  error message as all files have already been written/erased anyway
	- Drop some unecessary time consuming method calls in RpmPackage
	- First rough version of the '#' markers during operation
	- Fixed a bug in the verfifyInstallFile() method in RpmPackage where an config
	  file update wasn't detected properly

2005-02-25  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.13: [tw]
	- checkDependencies: do not check installed packages if no packages are getting
	  removed by erase or obsolete

2005-02-24  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/hashlist.py 1.2, pyrpm/resolver.py 1.12:
	[tw] - removed double inversion of obsoletes in _genOperations

	* pyrpm/resolver.py 1.11: [tw]
	- made instlist permanent in RpmResolver, generation in __init__
	  this simplifies the whole structure and functions
	- do not check dependencies and conflicts for already installed packages
	- use self.operation flag in the whole class
	- generate todo list in genRelations, it is only needed there
	- removed _genInstList function
	- simplified ordering of obsoletes in _genOperations

	* pyrpm/resolver.py 1.10: [tw]
	- renamed _gen_operator to _genOperator, _gen_depstr to _genDepString,
	  genInstList to _genInstList, genOperations to _genOperations
	- integrated no_relations in relations: _Relations class supports now supports
	  empty relations
	- minimal multilib support in checkPkgDependencies
	- separated checkConflicts and checkFileConflicts
	- loop detection starts with a better node (minimal pre nodes), searches for
	  smaller loops
	- breakup loop uses a better node for breakage (minimal pre nodes)
	- orderRpms: select leaf node with smallest list of pre relations
	- first steps of documentation

	* pyrpm/rpmlist.py 1.8: [tw] going back to old key (pkg["name"])

	* pyrpm/rpmlist.py 1.7: [tw] using N.A as key

2005-02-24  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.6:
	- Added buildarchtranslet table for mutlilib handling

2005-02-22  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.9:
	[tw] ignore unresolved in genRelations, we are only looking at the changes,
	  therefore not all symbols are resolvable in these changes
	(note for me: keep it simple)

	* pyrpm/resolver.py 1.8: [tw]
	 - rewritten normalize function, dropped string compare of headers: speedup
	 - new functions for operationFlag, genInstList, genOperations, detectLoop and
	   breakupLoop for better code structure
	 - resolve: install in todo list (old: update)
	 - moved no_relations out of genOrder

	* pyrpm/rpmlist.py 1.6: [tw] - fixed _filenames.multi

2005-02-22  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/functions.py 1.9:
	- Fixed small bug in runScript for error cases

	* pyrpm/control.py 1.9, pyrpm/cpio.py 1.3, pyrpm/functions.py 1.8, pyrpm/io.py 1.8, pyrpm/package.py 1.11, test10 1.1, test3new 1.1, test7 1.1, test8 1.1, test9 1.1:
	- Added my various other testscripts. Not all of the work properly all the
	  time, so use at own risk. :)
	- Ran pychecker on complete code and fixed the real bugs found by it (has some
	  false positives)
	- Removed various debug output print statements
	- RpmPyDB now really reads the whole DB when read() is called. Prevents problems
	  when doing checks agains the DB in child processes
	- Dropped tag paramenter from internal __generateTag() method in io.py
	- Updated the DB for addPkg() and erasePkg() calls in memory, too
	- Added isSourceRPM() in RpmPackage (from Karel Zak)
	- Implemented %config(noreplace) checks for package updates

2005-02-21  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.7:
	[tw] moved "Checking dependencies for" back to checkDependencies

	* pyrpm/resolver.py 1.6: [tw]
	- new function checkPkgDependencies to check dependencies for one package
	  against install list
	- use this new function in checkDependencies and in genRelations
	- search for leaf node with the highest requirement instead of using the
	  first one
	- moved OP_INSTALL, OP_UPDATE, UP_ERASE up in RpmResolver class
	- be more verbose in debug mode

	* pyrpm/rpmlist.py 1.5: [tw] add files only once to multi in _Filenames

2005-02-21  Florian La Roche  <laroche@redhat.com>

	* TODO 1.9: ++

	* TODO 1.8: - ++

	* TODO 1.6: - commit

2005-02-17  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.5, pyrpm/control.py 1.8, pyrpm/io.py 1.7, pyrpm/package.py 1.10:
	- Extended the RpmFileInfo to contain the file attribute flags
	- Added the File verify flags to base.py (need to add the verifyflags to
	  RpmFileInfo, too)
	- Revamped the handling of package updates: Insert erase operations for all
	  updated packages after the update operation for the new one
	- Added a isDuplicate(file) method to the DB class (needed during erase
	  operation)
	- Added some temporary debug output during file install and removal
	- Handle duplicate files during removal
	- During package erase if scripts fail simply print out an error message
	  instead of aborting the whole operation

	* pyrpm/control.py 1.7, pyrpm/io.py 1.6, pyrpm/package.py 1.9:
	- Some more code control flow rearrangements
	- More data and method hiding

	* TODO 1.5, pyrpm/control.py 1.6, pyrpm/package.py 1.8:
	- Removed debug output in erasePkg() method
	- Started hiding internal only methods

	* pyrpm/base.py 1.4, pyrpm/config.py 1.3, pyrpm/control.py 1.5, pyrpm/functions.py 1.7, pyrpm/io.py 1.5, pyrpm/package.py 1.7:
	- Added RPM file attributes to base.py for use in install/erase methods
	- Fixed missing warning_level in RpmConfig init
	- Removed setDB() call from controller, was really pointless
	- readDB() in controller now takes a db as argument, '/var/lib/pyrpm' is default
	  if none given
	- Fixed the erasePkgs() method to report if no packages were removed
	- Rearranged the whole RpmController code to reflect control flow better
	- Dropped addRepo() and addAvailable() from controller, will be done in a
	  separate class anyway
	- erasePkg() now checks the strings given correctly and searches the installed
	  packages for possible matches very similar to how rpm does it
	- Added findUpdatePkgs() which looks for packages that will be replaced by
	  an update operation. Fails if newer or same packages are found, otherwise
	  stores all found packages in a spezial hash list
	- run() now correctly handles updates where the new package is first installed
	  and then all related old packages get removed afterwards
	- Fixed printInfo and printWarning functions to actually use the corresponding
	  level variable in RpmConfig ;)
	- Added envraSplit() function which tries to extract the epoch, name, version,
	  release and arch from a given package string as correctly as possible
	- Extended RpmData class to behave like a real hash with necessary methods
	- Switched to use and treat RpmData classes like a hash outside now (no more
	  direct internal access to data necessary)
	- Dropped files parameter from install and erase and replaced it with a DB
	  parameter (which makes a lot more sense)
	- Fixed a few output and message calls
	- Disabled return code checks for preun and postun for now as bash needs
	  /bin/sh in postun (which is really really stupid as it has just been
	  deleted...)

2005-02-11  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/base.py 1.3, pyrpm/control.py 1.4, pyrpm/functions.py 1.6, pyrpm/io.py 1.4, pyrpm/package.py 1.6, pyrpm/resolver.py 1.5:
	- Forgot to add noarch to rpm lead headers, fixed.
	- Initialized interal pydb in RpmController
	- Call setBuildroot() in all operation methods
	- Really read in database of installed files
	- Check function for older or same installs of packages
	- Extended preprocess in RpmController to use install check for install
	- Moved complete DB handling to parent process. Uses exit code of childs
	- Removed level from printError again (doesn't make sense)
	- Fixed the printInfo and printWarning functions to use the level
	- Added pkgCompare function to EVR compare 2 RpmPackages
	- Changed parsesig to skipsig, we generally have to read the signature
	- Full implementation of RpmPyDB. Allows adding and erasing of packages and
	  handles everything
	- Extended getRpmIOFactory() for RpmPyDBIO objects
	- Renamed remove() method in RpmPackage to erase()
	- Fixed return code of erase() method
	- Fixed small bug in resolver.py with wrong number of arguments

2005-02-11  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/functions.py 1.5:
	[tw] renamed _evrComapre to labelCompare again

	* pyrpm/rpmlist.py 1.4:
	[tw] only remove obsolete packages for an update, not for an install

2005-02-11  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/control.py 1.3, pyrpm/cpio.py 1.2, pyrpm/functions.py 1.4, pyrpm/io.py 1.3, pyrpm/package.py 1.5, pyrpm/resolver.py 1.4:
	- Integrated resolver code from Thomas with my backend and frontend code
	- Handle different types of operations in controller
	- First cut of PyDB read/write code
	- Extended printInfo, printWarning and printError with levels (as debug)
	- Fixed missing import string in resolver.py

2005-02-11  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.3, pyrpm/rpmlist.py 1.3:
	[tw] renamed RpmList::search_dep to RpmList::searchDependency

	* classes.fig 1.2: [tw] added RpmResolver, RpmList and HashList

	* pyrpm/rpmlist.py 1.2:
	[tw] fix from Karel Zak: package obsoletes the package itself or an older
	  package with the same name

2005-02-11  Karel Zak  <kzak@redhat.com>

	* pyrpm/package.py 1.4:
	RpmPackage.getNEVRA() called self.NEVR() but there is self.getNVER() only

2005-02-10  Thomas Woerner  <twoerner@redhat.com>

	* pyrpm/resolver.py 1.2: [tw] removed verbose variable

	* rpmresolve.py 1.1: [tw] test script for RpmResolver

	* pyrpm/__init__.py 1.2, pyrpm/config.py 1.2, pyrpm/functions.py 1.3, pyrpm/hashlist.py 1.1, pyrpm/resolver.py 1.1, pyrpm/rpmlist.py 1.1:
	[tw] integrated resolver
	 - hashlist
	 - rpmlist
	 - resolver

2005-02-10  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpm/package.py 1.3, pyrpm/functions.py 1.2:
	- Added patch from Karel Zak to allow installations of SRPMS, too.
	- Better way of detecting SRPMS done by Karel Zak. Need to verify if that works
	  for all srpms and rpms out there.

	* pyrpm/control.py 1.2, pyrpm/io.py 1.2, pyrpm/package.py 1.2, pyrpm/base.py 1.2:
	- Added arch_compat hash to be used for machine distance (see rpm sourcecode ;)
	- Need to import config in base (for later debug/info output)
	- Moved binary MAGIC tags into base for reuse
	- Added rpm_lead_arch, used in lead to identify arch via file(1)
	- Wrote first version of controler and used it in 1 testscript. Now only 2
	  lines of code need to be written to install/update/erase a set of rpms :)
	- All RpmIOs now know their source (self.source)
	- Initialized the cpiofd and cpio variables in RpmStreamIO
	- Close the cpiofd and cpio variables in close() of RpmStreamIO
	- Fixed bug in the signature streaming (no more rpmconstants)
	- Used the new MAGIC tags in lead and index code in RpmStreamIO
	- Wrote rpm binary header writer. Rpm is able to read and display the produced
	  file without a problem, so seems to work. ;)
	- Changed interface to open() in RpmIO to allow opening for write. Default is
	  still read only.
	- Allow use of tags and ntags in RpmPackage::install()
	- Signature data is now stored in pkg["signature"] hash
	- Added getNEVR() method to RpmPackage (needed for controller)

2005-02-08  Thomas Woerner  <twoerner@redhat.com>

	* rpmresolve 1.2: [tw]
	 - support for installed tree
	 - support for repo
	 - new package obsoletes installed package
	 - RpmList contains provides and filenames: adding a rpm to the list adds
	   provides to list.provides and filenames to list.filenames, remove ..

2005-02-07  Thomas Woerner  <twoerner@redhat.com>

	* rpmresolve 1.1: [tw] rpmresolve
	 - resolves provides
	 - checks for conflicts
	 - checks for file conflicts
	 - orderes package list using relations

	* hashlist.py 1.1: [tw] hashlist
	 - using hashes for quick searches and lists for simple access

2005-02-07  Philip Knirsch  <pknirsch@redhat.com>

	* cpio.py 1.17, pyrpm/.cvsignore 1.1, pyrpm/__init__.py 1.1, pyrpm/base.py 1.1, pyrpm/config.py 1.1, pyrpm/control.py 1.1, pyrpm/cpio.py 1.1, pyrpm/functions.py 1.1, pyrpm/io.py 1.1, pyrpm/package.py 1.1, pyrpmlib.py 1.24, rpmconstants.py 1.12, test 1.2, test2 1.6, test3 1.5, test4 1.2, test5 1.3, test6 1.2, ugid.py 1.3:
	- Restructuring of code into Package and Module form for better modularization
	- Removed RpmError class, now we use global functions (more general interface)

2005-02-04  Karel Zak  <kzak@redhat.com>

	* cpio.py 1.16: - cpio should be more readable

2005-02-04  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpmlib.py 1.23:
	- Removed io from readHeader() in read() in RpmPackage ;)

	* test6 1.1: - rpm buildroot removal script

	* test 1.1: - Added first and best test script :)

	* pyrpmlib.py 1.22, rpmconstants.py 1.11, test2 1.5, test3 1.4, test5 1.2:
	- Fixed bug in header reading, sig and header are 2 separately handled "entities"
	- Extended all IO classes to use the "default" contructor arguments.
	- Make sure RpmPackage knows when it has already read the header
	- Fixed bug where tags and ntags weren't used correctly
	- Dropped io argument from readHeader() and extract() in RpmPackage, it already
	  has an io. If not, then we need to error out anyway.
	- Extended readHeader to support tags and ntags (like RpmFileIO did in the past)
	- Added first cut of remove() method in RpmPackage to remove a package (simple
	  version for now).
	- Fixed small bug in hardlink handling where the dirs wouldn't be automatically
	  created.
	- Reworked the getpwnam and getgrnam stuff as they exit the client if
	  /etc/passwd and/or /etc/group isn't there. :(
	- Switched to using fork()/execv() in runScript() just as rpm does. Works much
	  more reliabled now and doesn't need /bin/sh anymore ;)
	- Small fifo creation fix
	- Added the whole RPMSENSEFLAGS stuff from rpmlib.h as we need that to handle
	  dependancies correctly and "evaluate" them.
	- Minor fixes to test scripts.

2005-02-04  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.32, pyrpmlib.py 1.21, rpmconstants.py 1.10: - sync

2005-02-02  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpmlib.py 1.20, test2 1.4, test3 1.3, test4 1.1, test5 1.1:
	- Fixed leaking fd in RpmFileIO class
	- Extended the getRpmIOFactory() function to take the additional parameters
	  for the IO classes and use them for object creation
	- Dropped tags and ntags now from the RpmPackage constructor, too and moved
	  those params to the read method. Default is still all tags.
	- Extended RpmPackage to now provide a open() and close() method. Used
	  internally as well. Needed for installation (chroot problem)
	- Fixed the testscripts to use new interface for RpmPackage and RpmIO

	* pyrpmlib.py 1.19: - Added rpmIOFactory()
	- Started changes for read()/write() code for RpmPackage and where the ios come
	  from (the factory, of course ;).

2005-02-01  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpmlib.py 1.18: - Use of mkstemp instead of mktemp
	- Some more corner case handling
	- Use of os.mknod() method

	* pyrpmlib.py 1.17: - Implemented new hardlink handling

	* pyrpmlib.py 1.16:
	- Removed debug output in readHeader in RpmPackage class.

	* pyrpm.py 1.31, pyrpmlib.py 1.15, rpmconstants.py 1.9:
	- Added RpmFileInfo class used in RpmPackage for the filetree and during extract
	- Fixed stupid bug in header reading (tags for sig and header can be the same
	  with different names, doh).
	- Nearly finished hardlink generation and handling.

2005-01-31  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpmlib.py 1.14, test2 1.3, test3 1.2: - Various changes.

2005-01-31  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.30: - move verify into a different location

2005-01-30  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.29: - changes

2005-01-29  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.28, pyrpmlib.py 1.13, rpmconstants.py 1.8:
	- check also RPMTAG_GROUP with exceptions
	- add some more "self", seems this is non-finished

	* pyrpm.py 1.27: - doc

	* pyrpm.py 1.26, pyrpmlib.py 1.12, rpmconstants.py 1.7:
	- check script progs to be string or string_array
	- allow checking also non-RH rpms some more

2005-01-27  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.25: - cleanup

2005-01-27  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpmlib.py 1.11:
	- Removed the use of ugid class, we now do it properly with getpwnam() and
	  getgrpnam()
	- Temporarily return the cpio filedata as well for the read() operation to
	  verify if we have everything in the headers
	- Some checks in the extract phase for now, will be finished tomorrow

	* FILES 1.1, INFO 1.1, README 1.4, TODO 1.4, cpio.py 1.15, pyrpmlib.py 1.10, rpmconstants.py 1.6, test2 1.2:
	- Modified the code to use a new concept for streaming rpm reading

2005-01-25  Florian La Roche  <laroche@redhat.com>

	* filetree.py 1.2: - remove file

2005-01-25  Philip Knirsch  <pknirsch@redhat.com>

	* TODO 1.3, cpio.py 1.14, pyrpmlib.py 1.9, test2 1.1, test3 1.1:
	- Some minor cleanup (removed unused stuff)
	- Fixed hardlink behaviour in cpio class
	- Extended TODO
	- Added my two testscripts for installation tests

2005-01-21  Philip Knirsch  <pknirsch@redhat.com>

	* cpio.py 1.13, pyrpmlib.py 1.8, ugid.py 1.2:
	- Fixed cpio class to normalize the filename/path
	- Fix filemods for devices of creation of device failed
	- Some smaller cleanup
	- Really use the files for install() and extract in RpmPackage
	- Implemented rpm header filemods after installation
	- Completely rewrote ugid module and used it in rpm head filemods

2005-01-20  Philip Knirsch  <pknirsch@redhat.com>

	* cpio.py 1.12, pyrpmlib.py 1.7:
	- Fixed order of chmod/chown/utime calls for cpio file creation
	- Cleanup for actual hardlink creation

	* cpio.py 1.11, pyrpmlib.py 1.6: - Handle cpio extraction completely
	- Handle pre/post in scripts very similar to the way rpm does.

2005-01-18  Philip Knirsch  <pknirsch@redhat.com>

	* cpio.py 1.10, pyrpmlib.py 1.5: - Extract now works in basic form.

2005-01-14  Thomas Woerner  <twoerner@redhat.com>

	* pyrpmdeps 1.1: [tw] pyrpmlib version of rpmdeps

	* README 1.3, classes.fig 1.1: [tw] class diagram

2005-01-14  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpmlib.py 1.4: - Always return a filetree, even if it is empty
	- Fix hdronly flag in RpmFile

	* pyrpmlib.py 1.3:
	- Added provides, requires, obsoletes and conflicts lists to data

	* cpio.py 1.9, depresolver.py 1.2, pyrpm.py 1.24, pyrpmlib.py 1.2:
	- Tons of changes :)

2005-01-14  Thomas Woerner  <twoerner@redhat.com>

	* README 1.2, rpmdeps 1.9: [tw]

	* README 1.1: [tw] readme

	* rpmdeps 1.8:
	[tw] small fix for compare function, behaves now exactly as rpmvercmp

2005-01-14  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.23: - sync

2005-01-13  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.22: - sync

2005-01-13  Thomas Woerner  <twoerner@redhat.com>

	* rpmdeps 1.7: [tw] resolved now contains all matching rpm packages

	* rpmdeps 1.6:
	[tw] - replaced rpm.labelCompare with own compare function
	     - fixed ignore_epoch
	     - new evr_split version
	     - epoch now defaults to "" instead of "0"

2005-01-13  Philip Knirsch  <pknirsch@redhat.com>

	* pyrpmlib.py 1.1: - First cut of new pyrpmlib using classes and stuff.

2005-01-13  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.20: -

2005-01-12  Thomas Woerner  <twoerner@redhat.com>

	* rpmdeps 1.5: [tw] some minor cleanups

	* rpmdeps 1.4: [tw] ultra fast version

	* rpmdeps 1.3: [tw] more speedup

2005-01-12  Philip Knirsch  <pknirsch@redhat.com>

	* cpio.py 1.8, depresolver.py 1.1, pyrpm.py 1.19:
	- Several structure changes to cpio.py and pyrpm.py
	- Implemented file checking for payload
	- Added first rough cut of depresolver. Still needs lots of work.

2005-01-12  Thomas Woerner  <twoerner@redhat.com>

	* rpmdeps 1.2: [tw] new version, speedups

	* rpmdeps 1.1: [tw] rpmdeps
	     list rpm dependencies
	     uses rpmlib at the moment

2005-01-10  Florian La Roche  <laroche@redhat.com>

	* TODO 1.2, cpio.py 1.7, filetree.py 1.1, pyrpm.py 1.18, rpmconstants.py 1.5, ugid.py 1.1:
	- update to current versions

2004-09-22  Paul Nasrat  <pnasrat@redhat.com>

	* pyrpm.py 1.17: rpmfi to create RFile

2004-09-20  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.16: - small fixups

2004-09-18  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.15, rpmconstants.py 1.4:
	- some more code to read rpm data into RRpm

	* pyrpm.py 1.14: - further cleanup, strict is not set per rpm

	* pyrpm.py 1.13: - some new code, I am bad at writing changelog lines

2004-09-13  Paul Nasrat  <pnasrat@redhat.com>

	* cpio.py 1.6: CPIO_MAGIC dict

2004-09-12  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.12: - check for duplicates in strict mode

	* pyrpm.py 1.11: - enable reading cpios again

	* pyrpm.py 1.10, rpmconstants.py 1.3: - speed up tag lookups
	- disable dangerous parts

	* pyrpm.py 1.9: - some checking even in non-strict mode

	* cpio.py 1.5, pyrpm.py 1.8: - make stricter checking optional

	* cpio.py 1.4, pyrpm.py 1.7, rpmconstants.py 1.2:
	- change over to a class again

2004-09-10  Paul Nasrat  <pnasrat@redhat.com>

	* cpio.py 1.3: Convert all the header fields to base 10

	* cpio.py 1.2, pyrpm.py 1.6: Fix padding

	* cpio.py 1.1: Initial CPIO work - it's still a bit rough.
	Padding calcualation may be wrong

2004-09-10  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.5: - keep read data

	* pyrpm.py 1.4: - first stab at decompressing cpio data

	* pyrpm.py 1.3: - no padding at end of header

2004-09-09  Paul Nasrat  <pnasrat@redhat.com>

	* .cvsignore 1.1, TODO 1.1, pyrpm.py 1.2: Improve main functionality
	Initial queryformat impl.

2004-09-03  Florian La Roche  <laroche@redhat.com>

	* pyrpm.py 1.1, rpmconstants.py 1.1: - new import

