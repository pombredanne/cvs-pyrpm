#!/usr/bin/python

import sys
from pyrpm import *

rpms = []
for i in sys.argv[1:]:
    rpm = RpmPackage(rpmconfig, "file://"+i)
    try:
        rpm.read()
    except (IOError, ValueError), e:
        sys.stderr.write("%s: %s\n" % (i, e))
        continue
#    rpm.read(tags=("name", "epoch", "version", "release", "arch", "providename", "provideflags", "provideversion", "requirename", "requireflags", "requireversion", "obsoletename", "obsoleteflags", "obsoleteversion", "conflictname", "conflictflags", "conflictversion", "filesizes", "filemodes", "filerdevs", "filemtimes", "filemd5s", "filelinktos", "fileflags", "fileusername", "filegroupname", "fileverifyflags", "filedevices", "fileinodes", "filelangs", "dirindexes", "basenames", "dirnames", "filecolors", "fileclass", "classdict", "filedependsx", "filedependsn", "dependsdict"))
    print rpm["arch"]
    print rpm["group"]
#    for f in rpm["filenames"]:
#	rfi = rpm.getRpmFileInfo(f)
#        print rfi.filename, hex(rfi.flags)
#    rpms.append(rpm)
