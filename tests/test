#!/usr/bin/python

import sys
from pyrpm import *

rpms = []
for i in sys.argv[1:]:
    rpm = RpmPackage(rpmconfig, "file://"+i, verify=0)
    try:
        rpm.read()
    except (IOError, ValueError), e:
        sys.stderr.write("%s: %s\n" % (i, e))
        continue
    print rpm.range_signature
    print rpm.range_header
    print rpm.range_payload
    print rpm["signature"]["size_in_sig"]
    print rpm.has_key("epoch")
    print zip(rpm["basenames"], rpm["filelinktos"], rpm["filemd5s"], rpm["filesizes"])
    print rpm["basenames"]
    print rpm["dirnames"]
    print rpm["dirindexes"]
    for f in rpm["filenames"]:
	rfi = rpm.getRpmFileInfo(f)
	print rfi.filename, rfi.filecolor
#    rpms.append(rpm)
